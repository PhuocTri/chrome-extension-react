!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=98)}([function(e,t,n){e.exports=n(6)(59)},function(e,t,n){e.exports=n(8)(224)},function(e,t,n){e.exports=n(8)(222)},function(e,t,n){e.exports=n(8)(225)},function(e,t,n){"use strict";function r(e){return/^\/\//.test(e)?e.replace(/^/,window.location.protocol):e}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(o,i){var l=a({},e,n);fetch(r(t),l).then(function(e){l.jsonOutput===!0?e.json().then(o).catch(i):e.text().then(o).catch(i)}).catch(function(e){i(e)})})}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o({method:"get",credentials:"include"}),l=o({method:"post",credentials:"include"}),u=o({method:"put",credentials:"same-origin",headers:new Headers({"Content-Type":"application/json"})}),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){chrome.runtime.sendMessage({service:"proxy",url:e,options:t},function(e){return e.resolve?n(e.resolve):void r(e.reject)})})},c=new Headers;c.append("pragma","no-cache"),c.append("cache-control","no-cache"),t.PROXY_GET=s,t.GET=i,t.POST=l,t.PUT=u,t.headerNoCache=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setChromeSyncStore=t.getChromeSyncStore=t.setChromeLocalStore=t.getChromeLocalStore=t.defaultStoreStructure=void 0;var o=n(3),a=r(o),i=t.defaultStoreStructure={settings:{wideScreen:!0,wideScreenSpecial:!1,threadPreview:!0,adsRemove:!0,linkHelper:!0,notifyQuote:!0,emotionHelper:!0,minimizeQuote:!0,quickPostQuotation:!0,reloadButton:!0,autoGotoNewthread:!1,savePostEnable:!0,autoHideSidebar:!1,peerChatEnable:!1,capturePostEnable:!0,LinhXinhBtn:!0,userStyle:"",delay:1,delayFollowThread:5,newThreadUI:!1,stickerPanelExpand:!1,smartSelection:!1,enableRichEditor:!1},authInfo:{},quotes:[],quickLinks:[{id:"voz_living_f17",label:"F17",link:"https://vozforums.com/forumdisplay.php?f=17"},{id:"voz_living_f33",label:"F33",link:"https://vozforums.com/forumdisplay.php?f=33"}],followThreads:{},threadTracker:{},currentPost:{}},l={savedPosts:{}};t.default=i;var u=a.default.keys(i),s=t.getChromeLocalStore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return new Promise(function(r){chrome.storage[t].get(e,function(t){a.default.isEmpty(t)?!function(){var t={},o=e;a.default.isString(o)&&(o=[o]),o.forEach(function(e){t[e]=n[e]}),r(t)}():!function(){var o=t;e.forEach(function(e){a.default.isUndefined(o[e])&&(o[e]=n[e])}),r(o)}()})})},c=t.setChromeLocalStore=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";return new Promise(function(n){chrome.storage[t].set(e,function(){return n(!0)})})};t.getChromeSyncStore=function(e){return s(e,"sync",l)},t.setChromeSyncStore=function(e){return c(e,"sync")}},function(e,t){e.exports=content_lib},function(e,t,n){e.exports=n(6)(228)},function(e,t){e.exports=common_lib},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.increasePageStatusId=t.unsavePost=t.savePost=t.getThreadList=t.unsubscribeThread=t.subscribeThread=t.updatePostTracker=t.removeQuickLink=t.saveQuickLink=t.updateQuickLink=t.addQuickLink=t.markAllQuoteSeen=t.updateQuotes=t.init=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),i=r(a),l=n(3),u=r(l),s=n(29);t.init=function(e){return o({},e,{type:s.VOZ_LIVING_INIT})},t.updateQuotes=function(e){return{type:s.VOZ_LIVING_UDATE_QUOTE_LIST,quotes:e}},t.markAllQuoteSeen=function(){return{type:s.VOZ_LIVING_SEEN_ALL_QUOTE}},t.addQuickLink=function(){return{type:s.VOZ_LIVING_ADD_QUICK_LINK}},t.updateQuickLink=function(e,t,n){return{type:s.VOZ_LIVING_UPDATE_QUICK_LINK,id:e,key:t,value:n}},t.saveQuickLink=function(){return{type:s.VOZ_LIVING_SAVE_QUICK_LINK}},t.removeQuickLink=function(e){return{type:s.VOZ_LIVING_REMOVE_QUICK_LINK,id:e}},t.updatePostTracker=function(e){return{type:s.VOZ_LIVING_UPDATE_POST_TRACKER,post:e}},t.subscribeThread=function(e,t){return{type:s.VOZ_LIVING_THREAD_SUBSCRIBE,threadId:e,post:t}},t.unsubscribeThread=function(e){return{type:s.VOZ_LIVING_THREAD_UNSUBSCRIBE,threadId:e}},t.getThreadList=function(){var e=(0,i.default)('#threadslist tbody[id^="threadbits_forum"] tr td[id^="td_threadtitle_"]'),t=u.default.map(e,function(e){var t=(0,i.default)(e),n=t.attr("id").match(/\d+/)[0],r=t.find(">div span > a"),o=r.eq(r.length-1).attr("href"),a=1;if(o){var l=o.match(/&page=(\d+)/);l&&(a=l[1])}return{id:n,pageNum:parseInt(a,10),element:t}});return{type:s.VOZ_LIVING_GET_THREAD_LIST,threadList:t}},t.savePost=function(e){return{type:s.VOZ_LIVING_SAVE_POST,postId:e}},t.unsavePost=function(e){return{type:s.VOZ_LIVING_UNSAVE_POST,postId:e}},t.increasePageStatusId=function(){return{type:s.VOZ_LIVING_UPDATE_PAGE_STATUS_ID}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return(0,v.setChromeLocalStore)({settings:p({},n,l({},e,t))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,c,f,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setConfig=u;var h=n(0),m=r(h),v=n(5),b=n(2),y=(0,b.autobind)((f=c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"getValue",value:function(){return this.props.parent.settings[this.props.configKey]}},{key:"setValue",value:function(e){u(this.props.configKey,e,this.props.parent.settings),this.props.parent.updateConfig()}},{key:"renderConfig",value:function(){return null}},{key:"render",value:function(){return m.default.createElement("div",{className:"item-wrapper"},this.renderConfig())}}]),t}(h.Component),c.propTypes={configKey:h.PropTypes.string,parent:h.PropTypes.object,helpText:h.PropTypes.string,helpUrl:h.PropTypes.string},s=f))||s;t.default=y},function(e,t,n){e.exports=n(6)(227)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=null;return/forumdisplay/.test(window.location.pathname)?e="thread-list":/showthread/.test(window.location.pathname)?e="thread":/showpost/.test(window.location.pathname)?e="post":/newreply/.test(window.location.pathname)?e="new-reply":/editpost/.test(window.location.pathname)?e="edit-reply":/showpm/.test(window.location.href)?e="pm":/insertpm/.test(window.location.href)?e="insert-pm":/newthread/.test(window.location.href)&&(e="new-thread"),e}function a(){var e="*:contains('You last') > *:contains('Welcome') > a[href*='member.php?u']",t=(0,l.default)(e).eq(0),n=(0,l.default)(e).eq(0).text(),r=-1;try{r=t.attr("href").match(/u=(\d+)/)[1]}catch(e){}if(""===n)return 0===(0,l.default)("#nologin-message").length&&(0,l.default)('.tborder:has(input[name="vb_login_username"])').before("<div id='nologin-message'>Bạn cần phải đăng nhập để sử dụng đầy đủ các chức năng của plugin</div>"),{isLogin:!1};new Function((0,l.default)("script:not([src]):contains('SECURITYTOKEN')").text().replace("SECURITYTOKEN","SECURITYTOKEN=window.SECURITYTOKEN")).call(window);var o=window.SECURITYTOKEN;return{isLogin:!0,token:o,username:n,userId:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.toClassName=void 0,t.getCurrentView=o,t.getAuthenticationInformation=a;var i=n(1),l=r(i);t.toClassName=function(e){return Object.keys(e).reduce(function(t,n){return e[n]?t.concat([n]):t},[]).join(" ")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return(0,p.getChromeLocalStore)(["settings"]).then(function(e){return Object.assign({},k,e.settings)})}function u(e,t){return l().then(function(n){return(0,w.setConfig)(e,t,n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getConfig=l,t.updateConfig=u;var f=n(0),d=r(f),p=n(5),h=n(2),m=n(23),v=r(m),b=n(24),y=r(b),g=n(25),_=r(g),w=n(10),k=p.defaultStoreStructure.settings,E=(0,h.autobind)(s=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={settings:{}},n.updateConfig(),n}return i(t,e),c(t,[{key:"updateConfig",value:function(){var e=this;l().then(function(t){return e.setState({settings:t})})}},{key:"render",value:function(){var e=this.state.settings,t=this.updateConfig,n={settings:e,updateConfig:t};return console.log(e),d.default.createElement("div",null,d.default.createElement("h3",null,"Chung (General)"),d.default.createElement(y.default,{configKey:"wideScreen",parent:n},"Dàn trang ra 2 bên"),d.default.createElement(y.default,{configKey:"wideScreenSpecial",parent:n},"Dàn trang ra 2 bên (Special - chọn nếu trên có lỗi)"),d.default.createElement(y.default,{configKey:"adsRemove",parent:n},"Xoá quảng cáo"),d.default.createElement(y.default,{configKey:"notifyQuote",parent:n},"Thông báo trích dẫn"),d.default.createElement(v.default,{configKey:"delay",parent:n},"Cường độ quét trích dẫn (phút)"),d.default.createElement(v.default,{configKey:"delayFollowThread",parent:n,max:1440,min:1},"Cường độ quét thớt theo dõi (phút)"),d.default.createElement(y.default,{configKey:"autoHideSidebar",parent:n},"Tự động ẩn thanh công cụ"),d.default.createElement(y.default,{configKey:"LinhXinhBtn",parent:n},"Hiện LinhXinh ở thanh công cụ"),d.default.createElement(y.default,{configKey:"enableRichEditor",parent:n},"Kích hoạt WYSIWYG Editor"),d.default.createElement(_.default,{configKey:"userStyle",parent:n},"userStyle Url  ",d.default.createElement("a",{href:"https://github.com/voz-living/chrome-extension-react/wiki/Feature:-Tu%E1%BB%B3-ch%E1%BB%8Dn-style-v%E1%BB%9Bi-userStyle"},"(?)")," "),d.default.createElement("h3",null,"Trang danh sách thớt (Thread List)"),d.default.createElement(y.default,{configKey:"threadPreview",parent:n},"Xem trước thớt"),d.default.createElement(y.default,{configKey:"reloadButton",parent:n},"Làm mới nhanh danh sách thớt"),d.default.createElement(y.default,{configKey:"autoGotoNewthread",parent:n},"Tự đi tới bài mới nhất"),d.default.createElement("h3",null,"Trong thớt/Bài viết (Thread/Posts)"),d.default.createElement(y.default,{configKey:"newThreadUI",parent:n},"Giao diện mới (Tải trang nhanh) (tạm không sử dụng được)"),d.default.createElement(y.default,{configKey:"smartSelection",parent:n},"Hiện công cụ khi quét chữ"),d.default.createElement(y.default,{configKey:"emotionHelper",parent:n},"Thêm emoticon"),d.default.createElement(y.default,{configKey:"linkHelper",parent:n},"Tự động xử lý link"),d.default.createElement(y.default,{configKey:"minimizeQuote",parent:n},"Tự động thu nhỏ trích dẫn"),d.default.createElement(y.default,{configKey:"quickPostQuotation",parent:n},"Trích dẫn nhanh"),d.default.createElement(y.default,{configKey:"capturePostEnable",parent:n},"Chụp bài viết / Capture Post  ",d.default.createElement("a",{href:"https://github.com/voz-living/chrome-extension-react/wiki/Feature:-Ch%E1%BB%A5p-h%C3%ACnh-b%C3%A0i-vi%E1%BA%BFt"},"(?)")),d.default.createElement(y.default,{configKey:"savePostEnable",parent:n},"Lưu bài viết (post)  ",d.default.createElement("a",{href:"https://github.com/voz-living/chrome-extension-react/wiki/Feature:-L%C6%B0u-b%C3%A0i-vi%E1%BA%BFt"},"(?)")),d.default.createElement("hr",null),d.default.createElement("div",{className:"warning"},"Tuỳ chọn mới sẽ được áp dụng khi bạn tải trang mới hoặc tải lại trang"))}}]),t}(f.Component))||s;t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0;var l,u,s,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=r(d),h=n(2),m=(0,h.autobind)((s=u=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),f(t,[{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"onClick",value:function(e){var t=this.props,n=t.command,r=t.value,o=t.showDefaultUI;return document.execCommand(n,o,r),e.preventDefault(),!1}},{key:"render",value:function(){var e=this.props,t=e.faClass,n=e.extraProps,r=e.tt;return p.default.createElement("a",c({href:"#","data-command":"bold","data-tooltip":r,style:{position:"relative"},onClick:this.onClick},n),p.default.createElement("i",{className:"fa fa-"+t}))}}]),t}(d.Component),u.propTypes={command:d.PropTypes.string.isRequired,value:d.PropTypes.any,showDefaultUI:d.PropTypes.bool,faClass:d.PropTypes.string,extraProps:d.PropTypes.object},u.defaultProps={showDefaultUI:!1,value:null,extraProps:{}},l=s))||l;t.Separator=function(){return p.default.createElement("span",{className:"command-separator"})};t.default=m},function(e,t,n){e.exports=n(8)(221)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="http://2.pik.vn/";return new Promise(function(n,r){l.default.ajax(t,{method:"POST",data:{image:e},xhrFields:{withCredentials:!0},dataType:"json"}).done(function(e,r){var o=e.saved;n(o?{url:t+o}:{})}).fail(function(e,t,n){return r(n)})})}function a(e){return new Promise(function(t){chrome.runtime.sendMessage({service:"image-upload",imageData:e},function(e){t(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadImageToPikVn=o,t.uploadImage=a;var i=(n(4),n(1)),l=r(i)},function(e,t,n){"use strict";function r(e){return{getThreadTitle:function(){try{return document.querySelectorAll("td.navbar")[0].textContent.trim()}catch(e){return console.warn(e),""}},getThreadId:function(){var t=e.find("#threadtools_menu a[href*='t=']");if(t&&t.eq(0)&&t.eq(0).attr("href")){var n=t.eq(0).attr("href").match(/t=(\d+)/);if(null!==n&&n.length>0)return n[1]}return-1},getPage:function(){var t=0;if(e.find("#meta_page_current").length>0)return e.find("#meta_page_current").attr("value");var n=e.find(".pagenav");return t=0===n.length?1:n.eq(0).find("tbody td.alt2 strong").text()},getLatestPost:function(){var t=e.find("table[id^='post']").last(),n=t.attr("id").match(/(\d+)/)[1],r=e.find("table[id^='post']").length;return{postNum:r,id:n}},getPostId:function(t){var n=e.find("table[id^='post']").eq(t),r=n.attr("id").match(/(\d+)/)[1];return r}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){e.exports=n(6)(226)},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.val(),o=n.start,a=void 0===o?t.prop("selectionStart"):o,i=n.end,l=void 0===i?t.prop("selectionEnd"):i,u=r.substring(0,a),s=r.substring(l,r.length);return t.val(u+e+s),t[0].setSelectionRange(a+e.length,a+e.length),t.focus(),{start:a,end:l+e.length}}Object.defineProperty(t,"__esModule",{value:!0}),t.insertTextIntoEditor=r},function(e,t,n){"use strict";function r(){return(0,l.getChromeLocalStore)(["authInfo"]).then(function(e){var t=e.authInfo,n=t.isLogin,r=t.token;return n||alert("You need to login to perform this action"),r}).catch(function(e){return console.error(e)})}function o(e){return r().then(function(t){var n="//vozforums.com/subscription.php?do=doaddsubscription&threadid="+e,r=new FormData;return r.append("do","doaddsubscription"),r.append("securitytoken",t),r.append("s",""),r.append("threadid",e),r.append("url","http://vozforums.com/showthread.php?t="+e),r.append("emailupdate",0),r.append("folderid",0),(0,i.POST)(n,{body:r})})}function a(e){return r().then(function(){var t="//vozforums.com/subscription.php?do=removesubscription&t="+e;return(0,i.GET)(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.prepare=r,t.subscribeThread=o,t.unsubscribeThread=a;var i=n(4),l=n(5)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return new Promise(function(t){g.default.ajax({async:!0,crossDomain:!0,url:"https://api.imgur.com/3/album/"+e+"/images",method:"GET",headers:{Authorization:"Client-ID "+E}}).done(function(e){var n=e.data;t(n.map(function(e){return{url:e.link.replace(/http:/,"https:")}}))}).fail(function(){t([])})})}function s(){return(0,_.getChromeSyncStore)([O]).then(function(e){return e[O]?e[O]:[]})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,f,d,p=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(0),v=r(m),b=n(2),y=n(1),g=r(y),_=n(5),w=n(10),k=n(13),E="11f712f3240e20c",O="stickerConfig",P=(0,b.autobind)((d=f=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stickers:[],isAdding:!1,selectedSticker:window.localStorage.getItem("vozLivingStickerSelected"),information:null,stickerPanelExpand:e.stickerPanelExpand},n.getStickerConfig().then(n.updateStateStickers),n}return l(t,e),h(t,[{key:"componentDidMount",value:function(){n(92),window.__addStickerSet=this.addStickerSet.bind(this)}},{key:"getStickerConfig",value:function(){return s().then(function(e){return Promise.all(e.map(function(e){var t=e.key,n=e.title,r="sticker_"+t;return(0,_.getChromeLocalStore)([r]).then(function(e){return e[r]?e[r]:u(t)}).then(function(e){return(0,_.setChromeLocalStore)(o({},r,e)),{key:t,title:n,list:e}})}))})}},{key:"updateStateStickers",value:function(e){var t=this.state.selectedSticker;!e.find(function(e){return e.key===t})&&e.length>0&&(t=e[0].key),this.setState({stickers:e,selectedSticker:t})}},{key:"choseSticker",value:function(e){this.props.onStickerClick(e)}},{key:"selectStickerSet",value:function(e){this.setState({selectedSticker:e}),window.localStorage.setItem("vozLivingStickerSelected",e)}},{key:"stickerOver",value:function(e,t){var n=v.default.createElement("div",{className:"sticker-preview"},v.default.createElement("img",{src:e.url}),v.default.createElement("div",{className:"sticker-preview-label"},"Kích thước thật"));this.setState({information:n})}},{key:"containerOut",value:function(){this.setState({information:null})}},{key:"toggleExpand",value:function(e){var t=!e;(0,k.getConfig)().then(function(e){return(0,w.setConfig)("stickerPanelExpand",t,e)}),this.setState({stickerPanelExpand:t})}},{key:"removeStickerSet",value:function(e){try{var t=this.state.stickers.slice(),n=t.findIndex(function(t){return t.key===e});t.splice(n,1),this.updateStateStickers(t),(0,_.setChromeSyncStore)(o({},O,t.map(function(e){return{key:e.key,title:e.title}}))),chrome.storage.local.remove("sticker_"+e)}catch(e){alert("Không thể xoá, xin thử lại sau"),console.log(e.stack)}}},{key:"addStickerSet",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t&&(t=prompt("imgur album url:","http://imgur.com/a/")),null!==t){if(/imgur\.com\/a\/.+/.test(t)===!1)return alert("Invalid album url");var r=t.match(/a\/([^ ]*)/);if(null!==r){var a=r[1],i=void 0,l=!0;do{if(l=!0,i=prompt("tên của sticker set (<= 20 kí tự)",null!==n?n:a),null===i)return;""===i.trim()&&(alert("Tên bị trống"),l=!1),i.length>20&&(alert("Tên quá dài"),l=!1)}while(!l);this.setState({isAdding:!0}),Promise.all([s().then(function(e){return e.push({key:a,title:i}),(0,_.setChromeSyncStore)(o({},O,e))}),u(a)]).then(function(e){var t=p(e,2),n=t[1],r="sticker_"+a;return(0,_.setChromeLocalStore)(o({},r,n))}).then(function(){alert("Đã thêm '"+i+"'"),e.getStickerConfig().then(function(t){e.updateStateStickers(t)}),e.setState({isAdding:!1})})}}}},{key:"render",value:function(){var e=this,t=this.state,n=t.stickers,r=t.selectedSticker,o=t.isAdding,a=t.information,i=t.stickerPanelExpand,l=n.find(function(e){return e.key===r});l||(l=n[0]);var u={opacity:0,visibility:"hidden"};return a&&Object.assign(u,{opacity:.8,visibility:"visible"}),v.default.createElement("div",{className:"sticker-box-wrapper"},v.default.createElement("div",{className:"sticker-information",style:u},a),v.default.createElement("div",{className:"sticker-box"+(0===n.length?" empty-sticker":"")+(i?" compact":" full"),onMouseOut:this.containerOut},n.length>0?v.default.createElement("div",null,l.list.map(function(t){return v.default.createElement("img",{className:"sticker",alt:t.url,onClick:function(){return e.choseSticker(t)},src:t.url,onMouseOver:e.stickerOver.bind(e,t)})})):v.default.createElement("span",null," Bạn chưa có bộ sticker nào, ",o?v.default.createElement("span",null," chờ tí ",v.default.createElement("i",{className:"fa fa-spinner fa-spin"})):v.default.createElement("a",{href:"#",onClick:function(t){return t.preventDefault(),e.addStickerSet(),!1}},"Tự thêm vào")," hoặc ",v.default.createElement("a",{href:"https://vozforums.com/showpost.php?p=123774893&postcount=1555",target:"_blank"},"vào đây để xem 1 số bộ stickers "))),v.default.createElement("ul",{className:"sticker-set-list"},n.length>0&&v.default.createElement("li",{onClick:function(){return e.toggleExpand(i)},"data-tooltip":i?"Mở rộng":"Thu nhỏ"},v.default.createElement("i",{className:"fa "+(i?"fa-expand":"fa-minus")})),n.length>0?o?v.default.createElement("li",{"data-tooltip":"Đang thêm"},v.default.createElement("i",{className:"fa fa-spinner fa-spin"})):v.default.createElement("li",{onClick:function(){return e.addStickerSet()},"data-tooltip":"Thêm sticker"},"+"):null,n.map(function(t){return v.default.createElement("li",{className:t.key===r?"sticker-set-selected":"",onClick:function(){return e.selectStickerSet(t.key)}},t.key===r?"▶":v.default.createElement("span",null," "),t.title," ",v.default.createElement("button",{onClick:function(n){return n.preventDefault(),e.removeStickerSet(t.key),!1},"data-tooltip":"Xoá sticker"},"x"))}),n.length>0&&v.default.createElement("li",null,v.default.createElement("a",{href:"https://vozforums.com/showpost.php?p=123774893&postcount=1555",target:"_blank","data-tooltip":"Sticker List"},"ℹ"))))}}]),t}(m.Component),f.propTypes={onStickerClick:m.PropTypes.func,stickerPanelExpand:m.PropTypes.bool},c=d))||c;t.default=P},function(e,t,n){"use strict";function r(e){var t=document.createElement("input");t.style.position="fixed",t.style.opacity=0,t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.copyText=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),f=n(2),d=n(10),p=r(d),h=(0,f.autobind)(l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"changeHandler",value:function(e){this.setValue(e.target.value)}},{key:"renderConfig",value:function(){var e=this.props,t=e.min,n=void 0===t?0:t,r=e.step,o=void 0===r?1:r,a=e.max,i=void 0===a?1e3:a;return c.default.createElement("label",{className:"on-off-item"},this.props.children,c.default.createElement("input",{type:"number",value:this.getValue(),onChange:this.changeHandler,min:n,max:i,step:o}))}}]),t}(p.default))||l;t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),f=n(2),d=n(10),p=r(d),h=(0,f.autobind)(l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"toggleCheckBoxHandler",value:function(){this.setValue(!this.getValue())}},{key:"renderConfig",value:function(){return c.default.createElement("label",{className:"on-off-item"},c.default.createElement("input",{type:"checkbox",checked:this.getValue(),onChange:this.toggleCheckBoxHandler}),this.props.children)}}]),t}(p.default))||l;t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),f=n(2),d=n(10),p=r(d),h=(0,f.autobind)(l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"changeHandler",value:function(e){this.setValue(e.target.value)}},{key:"renderConfig",value:function(){var e=this.props.size,t=void 0===e?30:e;return c.default.createElement("label",{className:"text-item"},this.props.children,c.default.createElement("input",{type:"text",value:this.getValue(),onChange:this.changeHandler,size:t}))}}]),t}(p.default))||l;t.default=h},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),
e.push(i))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=d[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(u(r.parts[a],t))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(u(r.parts[a],t));d[r.id]={id:r.id,refs:1,parts:i}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],a=o[0],i=o[1],l=o[2],u=o[3],s={css:i,media:l,sourceMap:u};n[a]?n[a].parts.push(s):t.push(n[a]={id:a,parts:[s]})}return t}function o(e,t){var n=m(),r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function i(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function u(e,t){var n,r,o;if(t.singleton){var u=b++;n=v||(v=i(t)),r=s.bind(null,n,u,!1),o=s.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=f.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(t),r=c.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function s(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function c(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,b=0,y=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var o=r(e);return n(o,t),function(e){for(var a=[],i=0;i<o.length;i++){var l=o[i],u=d[l.id];u.refs--,a.push(u)}if(e){var s=r(e);n(s,t)}for(var i=0;i<a.length;i++){var u=a[i];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete d[u.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),p=n(30),h=r(p),m=n(2),v=n(5),b=n(1),y=r(b),g=(0,m.autobind)((s=u=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.usageData={},n}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;n(91),setTimeout(function(){(0,v.getChromeSyncStore)(["stickerUsageData"]).then(function(t){"undefined"!=typeof t.stickerUsageData&&(e.usageData=t.stickerUsageData)})},500),(0,v.getChromeLocalStore)(["emoticonPanelExpand"]).then(function(t){var n=t.emoticonPanelExpand,r=void 0===n?"compact":n;(0,y.default)(e.$this).closest(".smilebox").addClass(r)})}},{key:"prepareEmotionUrl",value:function(e){var t=e;return t.indexOf("http")>-1?"":("/"!==t.charAt(0)&&(t="/"+t),"https://vozforums.com"+t)}},{key:"choseEmotion",value:function(e){this.props.onIconClick(e)}},{key:"expandEmo",value:function(){var e=(0,y.default)(this.$this).closest(".smilebox"),t=e.find(".emo-header i");t.toggleClass("fa-expand fa-minus"),t.hasClass("fa-expand")?(e.addClass("compact").removeClass("full"),(0,v.setChromeLocalStore)({emoticonPanelExpand:"compact"})):t.hasClass("fa-minus")&&(e.addClass("full").removeClass("compact"),(0,v.setChromeLocalStore)({emoticonPanelExpand:"full"}))}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{ref:function(t){return e.$this=t}},(0,y.default)("#vB_Editor_QR_textarea").length>0&&d.default.createElement("div",{className:"emo-header"},"Smiles",d.default.createElement("div",{className:"emo-expand"},d.default.createElement("i",{className:"fa fa-expand fa-lg","aria-hidden":!0,onClick:function(){return e.expandEmo()}}))),d.default.createElement("div",{className:"emotion-box"},h.default.map(function(t){return d.default.createElement("div",{className:"emo",key:t.text},d.default.createElement("img",{alt:t.text,src:e.prepareEmotionUrl(t.src),onClick:function(){return e.choseEmotion(t)}}))})))}}]),t}(f.Component),u.propTypes={onIconClick:f.PropTypes.func},l=s))||l;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VOZ_LIVING_INIT="VOZ_LIVING_INIT",t.VOZ_LIVING_GET_THREAD_LIST="VOZ_LIVING_GET_THREAD_LIST",t.VOZ_LIVING_UDATE_QUOTE_LIST="VOZ_LIVING_UDATE_QUOTE_LIST",t.VOZ_LIVING_SEEN_ALL_QUOTE="VOZ_LIVING_SEEN_ALL_QUOTE",t.VOZ_LIVING_ADD_QUICK_LINK="VOZ_LIVING_ADD_QUICK_LINK",t.VOZ_LIVING_UPDATE_QUICK_LINK="VOZ_LIVING_UPDATE_QUICK_LINK",t.VOZ_LIVING_SAVE_QUICK_LINK="VOZ_LIVING_SAVE_QUICK_LINK",t.VOZ_LIVING_REMOVE_QUICK_LINK="VOZ_LIVING_REMOVE_QUICK_LINK",t.VOZ_LIVING_UPDATE_POST_TRACKER="VOZ_LIVING_UPDATE_POST_TRACKER",t.VOZ_LIVING_THREAD_SUBSCRIBE="VOZ_LIVING_THREAD_SUBSCRIBE",t.VOZ_LIVING_THREAD_UNSUBSCRIBE="VOZ_LIVING_THREAD_UNSUBSCRIBE",t.VOZ_LIVING_SAVE_POST="VOZ_LIVING_SAVE_POST",t.VOZ_LIVING_UNSAVE_POST="VOZ_LIVING_UNSAVE_POST",t.VOZ_LIVING_UPDATE_PAGE_STATUS_ID="VOZ_LIVING_UPDATE_PAGE_STATUS_ID"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{text:":sexy:",src:"/images/smilies/Off/sexy_girl.gif"},{text:":byebye:",src:"/images/smilies/Off/byebye.gif"},{text:":look_down:",src:"/images/smilies/Off/look_down.gif"},{text:":stick:",src:"/images/smilies/Off/burn_joss_stick.gif"},{text:":adore:",src:"/images/smilies/Off/adore.gif"},{text:":nosebleed:",src:"/images/smilies/Off/nosebleed.gif"},{text:":beauty:",src:"/images/smilies/Off/beauty.gif"},{text:":gach:",src:"images/smilies/brick.png"},{text:':">',src:"/images/smilies/Off/embarrassed.gif"},{text:":surrender:",src:"/images/smilies/Off/surrender.gif"},{text:":pudency:",src:"/images/smilies/Off/pudency.gif"},{text:":sosad:",src:"/images/smilies/Off/too_sad.gif"},{text:":chaymau:",src:"/images/smilies/Off/nosebleed.gif"},{text:":go:",src:"/images/smilies/Off/go.gif"},{text:":sweat:",src:"/images/smilies/Off/sweat.gif"},{text:":canny:",src:"/images/smilies/Off/canny.gif"},{text:":sogood:",src:"/images/smilies/Off/feel_good.gif"},{text:":shame:",src:"/images/smilies/Off/shame.gif"},{text:":hungry:",src:"/images/smilies/Off/hungry.gif"},{text:":shot:",src:"/images/smilies/Off/beat_shot.gif"},{text:":rap:",src:"/images/smilies/Off/rap.gif"},{text:":hang:",src:"/images/smilies/Off/hang.gif"},{text:":*",src:"/images/smilies/Off/sweet_kiss.gif"},{text:":ops:",src:"/images/smilies/Off/ops.gif"},{text:":)",src:"/images/smilies/Off/smile.gif"},{text:":plaster:",src:"/images/smilies/Off/beat_plaster.gif"},{text:":tire:",src:"/images/smilies/Off/tire.gif"},{text:":brick:",src:"/images/smilies/Off/beat_brick.gif"},{text:":badsmell:",src:"/images/smilies/Off/bad_smelly.gif"},{text:":hell_boy:",src:"/images/smilies/Off/hell_boy.gif"},{text:":kool:",src:"/images/smilies/Off/cool.gif"},{text:":dribble:",src:"/images/smilies/Off/dribble.gif"},{text:":waaaht:",src:"/images/smilies/Off/waaaht.gif"},{text:":oh:",src:"/images/smilies/Off/oh.gif"},{text:":((",src:"/images/smilies/Off/cry.gif"},{text:"^:)^",src:"/images/smilies/Off/lay.gif"},{text:":aboom:",src:"/images/smilies/Off/after_boom.gif"},{text:":sad:",src:"/images/smilies/Off/sad.gif"},{text:":hug:",src:"/images/smilies/Off/hug.gif"},{text:":fix:",src:"/images/smilies/Off/fix.gif"},{text:":amazed:",src:"/images/smilies/Off/amazed.gif"},{text:":shitty:",src:"/images/smilies/Off/shit.gif"},{text:":what:",src:"/images/smilies/Off/what.gif"},{text:":cheers:",src:"/images/smilies/Off/cheers.gif"},{text:"-_-",src:"/images/smilies/Off/sleep.gif"},{text:":spam:",src:"/images/smilies/Off/spam.gif"},{text:":ah:",src:"/images/smilies/Off/ah.gif"},{text:":rofl:",src:"/images/smilies/Off/rofl.gif"},{text:":baffle:",src:"/images/smilies/Off/baffle.gif"},{text:":choler:",src:"/images/smilies/Off/choler.gif"},{text:":doubt:",src:"/images/smilies/Off/doubt.gif"},{text:":capture:",src:"/images/smilies/Off/capture.gif"},{text:":confident:",src:"/images/smilies/Off/confident.gif"},{text:":theft:",src:"/images/smilies/Off/theft.gif"},{text:":matrix:",src:"/images/smilies/Off/matrix.gif"},{text:":haha:",src:"/images/smilies/Off/haha.gif"},{text:":hehe:",src:"/images/smilies/Off/hehe.gif"},{text:":smoke:",src:"/images/smilies/Off/smoke.gif"},{text:":D",src:"/images/smilies/Off/big_smile.gif"},{text:":angry:",src:"/images/smilies/Off/angry.gif"},{text:":sos:",src:"/images/smilies/Off/sos.gif"},{text:":spiderman:",src:"/images/smilies/Off/spiderman.gif"},{text:":boss:",src:"/images/smilies/Off/boss.gif"},{text:":dreaming:",src:"/images/smilies/Off/still_dreaming.gif"},{text:":-s",src:"/images/smilies/Off/confuse.gif"},{text:":bike:",src:"/images/smilies/Off/bike.gif"},{text:":misdoubt:",src:"/images/smilies/Off/misdoubt.gif"},{text:":mage:",src:"/images/smilies/Off/mage.gif"},{text:":bye:",src:"/images/smilies/Off/bye.gif"},{text:":phone:",src:"/images/smilies/Off/phone.gif"},{text:":lmao:",src:"/images/smilies/Off/lmao.gif"},{text:":ot:",src:"/images/smilies/Off/ot.gif"},{text:":flame:",src:"/images/smilies/Off/flame.gif"},{text:":bang:",src:"/images/smilies/Off/bang.gif"},{text:":sure:",src:"/images/smilies/Off/sure.gif"},{text:":stupid:",src:"/images/smilies/emos/stupid.gif"},{text:":ban:",src:"/images/smilies/Off/bann.gif"},{text:":doublegun:",src:"/images/smilies/emos/doublegun.gif"},{text:":boom:",src:"/images/smilies/emos/boom.gif"},{text:":lol:",src:"/images/smilies/emos/lol.gif"},{text:":welcome:",src:"/images/smilies/Off/welcome.gif"},{text:":please:",src:"/images/smilies/Off/please.gif"},{text:":puke:",src:"/images/smilies/emos/puke.gif"},{text:":shit:",src:"/images/smilies/emos/shit.gif"},{text:":lovemachine:",src:"/images/smilies/emos/lovemachine.gif"},{text:":runrun:",src:"/images/smilies/Off/runrun.gif"},{text:":loveyou:",src:"/images/smilies/emos/loveyou.gif"},{text:":Birthday:",src:"/images/smilies/emos/Birthday.gif"},{text:":no:",src:"/images/smilies/emos/no.gif"},{text:":yes:",src:"/images/smilies/emos/yes.gif"},{text:":shoot1:",src:"/images/smilies/emos/shoot1.gif"},{text:":winner:",src:"/images/smilies/emos/winner.gif"},{text:":band:",src:"/images/smilies/emos/band.gif"},{text:":grin:",src:"/images/smilies/biggrin.gif"},{text:":frown:",src:"/images/smilies/frown.gif"},{text:":mad:",src:"/images/smilies/mad.gif"},{text:":p",src:"/images/smilies/tongue.gif"},{text:":embrass:",src:"/images/smilies/redface.gif"},{text:":confused:",src:"/images/smilies/confused.gif"},{text:";)",src:"/images/smilies/wink.gif"},{text:":rolleyes:",src:"/images/smilies/rolleyes.gif"},{text:":cool:",src:"/images/smilies/cool.gif"},{text:":eek:",src:"/images/smilies/eek.gif"}];t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var o=n(0),a=r(o),i=n(35),l=n(7),u=n(96),s=r(u),c=n(95),f=r(c),d=n(94),p=r(d),h=n(75),m=r(h),v=n(77),b=r(v),y=(0,p.default)({level:"log"}),g=t.store=(0,i.createStore)(b.default,(0,i.applyMiddleware)(s.default,f.default,y));t.default=function(){return a.default.createElement(l.Provider,{store:g},a.default.createElement(m.default,null))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(/(?=[^ ])(h *t *t *p *: *\/ *\/ *)?(([a-zA-Z0-9-\.]+\.)?[a-zA-Z0-9-]{3,}\.(com|net|org|us|info|vn|com\.vn|net\.vn|gov\.vn|edu|edu\.vn)(\/)?([^\s\[]+)?)(?=\s|$|\[)/.test((0,p.default)(e).text())){var t=(0,p.default)(e).text().replace(/(?=[^ ])(h *t *t *p *: *\/ *\/ *)?(([a-zA-Z0-9-\.]+\.)?[a-zA-Z0-9-]{3,}\.(com|net|org|us|info|vn|com\.vn|net\.vn|gov\.vn|edu|edu\.vn)(\/)?([^\s\[]+)?)(?=\s|$|\[)/gi,"<a data-type='linkdetected' href='http://$2' target='_blank'>$2</a>");(0,p.default)(e).before(t),e.nodeValue=""}}function a(e,t){if(t){var n=e.find('a[data-type="linkdetected"]');if(n&&n.length>0)return}else e=e.find("[id^='post_message_']");e.each(function(){var e=this,t=(0,p.default)(this),n=t.contents(),r=t.find("*:not(a)").contents().filter(function(){return 3===e.nodeType});m.default.each(n,function(e){3===e.nodeType&&o(e)}),m.default.each(r,function(e){"a"!==e.parentNode.nodeName.toLowerCase()&&o(e)})})}function i(e){e.find("a[href*='redirect/index.php']").each(function(){var e=(0,p.default)(this),t=e.attr("href").match(/\?link=(.*)/)[1],n=decodeURIComponent(t);e.attr("href",n)})}function l(e,t){var n=null;if(t){n=e.find("a");var r=e.find('a[data-smartlink="image"]');if(r&&r.length>0)return}else n=e.find("[id^='post_message_'] a");n.each(function(){var e=(0,p.default)(this),t=e.attr("href");if(!(e.find("img").length>0)&&/\.(jpg|png|gif|bmp|jpeg)$/.test(t)){e.attr("data-smartlink","image");var n=(0,p.default)("<div>\n            \t<img src='"+t+"'\n            \t\ttitle='Tự động nhận diện link hình với voz living'/>\n        \t\t</div>");e.after(n)}}),(0,p.default)(window).on("load",function(){(0,p.default)('.voz-post-message img[src^="http"]').each(function(){var e=(0,p.default)(this);e.height()<=200&&e.attr("class","inlineimg")})})}function u(e,t){var n=void 0,r=null,o=null;if(t){n=e.find("a");var a=e.find('a[data-smartlink="youtube"]');if(a&&a.length>0)return}else n=e.find("[id^='post_message_'] a");n.each(function(){var e=(0,p.default)(this).attr("href").match(/youtube\.com[^\s]+v=[a-zA-Z0-9_-]+|facebook.com.*\/videos\/.*|facebook.com.*\/posts\/.*|openload\.(?:co|link|io)\/f\/[\w-]*|soundcloud.com\/.+|.*\.mp4$/i);(0,p.default)(this).attr("href").match(/facebook\.com.*\/posts\/.*/i)&&(o=!0),null!==e&&e.length>0&&(r+=1)}),o&&(0,p.default)("body").prepend("<script> window.fbAsyncInit = function() { FB.init({ xfbml : true, version : 'v2.10' }); }; (function(d, s, id){ var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) {return;} js = d.createElement(s); js.id = id; js.src = \"//connect.facebook.net/en_US/sdk.js\"; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk')); </script>"),n.each(function(){var e=(0,p.default)(this),t=e.attr("href");if(/imgur\.com\/a\//.test(t)){var n=function(){var n=e[0];if(!n.previousSibling||"#text"!==n.previousSibling.nodeName)return{v:void 0};var r=n.previousSibling.textContent.trim().match(/Sticker (.*)/);if(null===r)return{v:void 0};var o=r[1],a=document.createElement("button");return a.textContent="Add Sticker",a.addEventListener("click",function(e){return window.__addStickerSet&&(window.__addStickerSet(t,o),a.setAttribute("disabled","true")),e.preventDefault(),!1}),e.after(a),e.after("<span>&nbsp;</span>"),{v:void 0}}();if("object"===("undefined"==typeof n?"undefined":f(n)))return n.v}var o=null,a=t.match(/youtube\.com[^\s]+v=([a-zA-Z0-9_-]+)/i),i=t.match(/facebook\.com.*\/posts\/.*/i),l=t.match(/facebook\.com.*\/videos\/.*/i),u=t.match(/openload\.(?:co|link|io)\/f\/([\w-]*)/i),s=t.match(/soundcloud.com\/.+/i),c=t.match(/.*\.mp4$/i);if(null!==a&&0!==a.length||(a=t.match(/youtu\.be\/([a-zA-Z0-9_-]+)/i)),null!==a&&a.length>0){e.attr("data-smartlink","youtube");var d="https://www.youtube.com/embed/"+a[1]+"?rel=0",h=t.match(/t=([^&]*)[&$]?/i);if(null!==h&&h.length>1){var m=~~h[1];0===m&&(m=h[1].replace(/([hms])(?=\d)/g,"$1 ").split(" ").reduce(function(e,t){return e+{h:3600,m:60,s:1}[t.slice(-1)]*~~t.slice(0,-1)},0)),d+="&start="+m}o=(0,p.default)("<div><iframe width='560' height='315'  src='"+d+"'\n            \t\t\t\t\tframeborder='0' allowfullscreen\n            \t\t\t\t\ttitle='Có thể xảy ra sai sót trong việc tự động nhận biết youtube, nếu có xin vui lòng báo lỗi qua pm greans(@vozforum)'>\n        \t\t\t\t\t</iframe>\n\t\t\t\t\t</div>")}else if(/video\.vnexpress\.net\/parser/.test(t)===!0){e.attr("data-smartlink","vnexpress-video");var v=t.replace(/^http:\/\//,"https://");o=(0,p.default)("<div><iframe width='480' height='270' src='"+v+"'\n            \t\t\t\t\tframeborder='0' allowfullscreen\n            \t\t\t\t\ttitle='Có thể xảy ra sai sót trong việc tự động nhận biết video Vnexpress, nếu có xin vui lòng báo lỗi qua pm greans(@vozforum)'>\n        \t\t\t\t\t</iframe>\n          </div>")}else if(t.match(/facebook.com.*/i))l?(e.attr("data-smartlink","fb-video"),o=(0,p.default)('<div><iframe src="https://www.facebook.com/plugins/video.php?href='+t+'&show_text=0&height=280"\n\t\t\t\t\t\t\twidth="560" height="315" style="border:none;overflow:hidden" scrolling="no"\n\t\t\t\t\t\t\tframeborder="0" allowTransparency="true" allowFullScreen="true">\n\t\t\t\t\t\t </iframe>\n\t\t\t\t\t</div>')):i&&(e.attr("data-smartlink","fb-post"),o=(0,p.default)('<br/><div class="fb-post" data-href="'+t+'" data-width="300"></div>'));else if(null!==u&&u.length>0)e.attr("data-smartlink","ol-video"),o=(0,p.default)('<div><iframe src="https://openload.co/embed/'+u[1]+'/" \n                             scrolling="no" frameborder="0" width="560" height="315"\n                             allowfullscreen="true" ></iframe>\n\t\t\t\t<div style="font-size: 10px; color: #aaa">(Nên dùng thêm <a style="color: #999" href ="https://chrome.google.com/webstore/detail/openload-video-only/leallakffbiflfgpmamdgcojddnbfdgo" target="_blank">extension để chặn ad của openload</a>)</div></div>');else if(null!==s&&s.length>0)e.attr("data-smartlink","sc-video"),o=(0,p.default)('<div><iframe width="560" height="315" scrolling="no" frameborder="no"\n                             src="https://w.soundcloud.com/player/?url='+t+'&amp;color=%23ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true">\n                     </iframe>\n                </div>');else if(null!==c&&c.length>0){e.attr("data-smartlink","mp4-video");var b=t.replace(/^http:\/\//,"https://");o=(0,p.default)("<div><video src='"+b+"' width='560' height='315' preload='metadata' controls></video></div>")}null!==o&&(r<=15?e.after(o):!function(){var t=(0,p.default)("<span>&nbsp;</span><button>Hiện Player</button>");t.click(function(){e.after(o),t.remove()}),e.after(t)}())})}function s(e){(0,p.default)(window).on("load",function(){e.find('.voz-post-message img[src^="http"]').each(function(){var e=(0,p.default)(this),t=null,n=null,r=1,o="",a=null,i=!1,l=e.closest(".voz-post-message"),u=l.width();e.width()>200&&e.height()>200&&!function(){var s=function(){if(f.append('<a href="#" data-tooltip="Xoay trái"><i class="fa fa-undo fa-lg control-button" id="rotate-left" ></i></a>\n                      <a href="#" data-tooltip="Xoay phải"><i class="fa fa-repeat fa-lg control-button" id="rotate-right" ></i></a>\n                      <a href="#" data-tooltip="Lật ngược"><i class="fa fa-exchange fa-lg control-button" id="flip-h" ></i></a>\n                      <a href="https://images.google.com/searchbyimage?image_url='+c+'" target="_blank" data-tooltip="Tìm qua Google Image"><i class="fa fa-search fa-lg control-button" id="google-search" ></i></a>\n                      <a href="'+c+'" data-tooltip="Lưu hình ảnh" download><i class="fa fa-download fa-lg control-button" id="save-image"></i></a>'),f.find(".control-button#flip-h").on("click",function(){r=-r,e.css({transform:o+" scaleX("+r+")"})}),f.find('.control-button[id^="rotate"]').on("click",function(){if(e.closest(".voz-bbcode-quote").length>0&&(l=e.closest(".voz-bbcode-quote"),u=l.width()-14),t+="rotate-left"===(0,p.default)(this).attr("id")?-90:90,t===-90&&(t=270),360===t&&(t=0),t/90%2===1){var n=(e.width()-e.height())/2,a=1;e.parent().css({height:e.width()}),e.height()>u+1&&(a=u/e.height(),e.css({"max-height":u})),90===t?(o="rotate("+t+"deg) translate("+n*a+"px, "+n*a+"px)",e.css({transform:o+" scaleX("+r+")"})):270===t&&(o="rotate("+t+"deg) translate("+-n*a+"px, "+-n*a+"px)",e.css({transform:o+" scaleX("+r+")"}))}else e.parent().css({height:""}),o="rotate("+t+"deg)",e.css({transform:o+" scaleX("+r+")"}),e.css({"max-height":""})}),c.match(/scontent.+?fbcdn.net.+/)){var s=c.split("/"),d=s[s.length-1].split("_");f.append('&nbsp;<a href="https://www.facebook.com/'+d[1]+'" target="_blank" data-tooltip="Tìm kiếm Facebook"><i class="fa fa-facebook-square fa-lg control-button" id="fb-resolve" ></i></a>')}i&&(f.append('&nbsp;<a href="#"  data-tooltip="Quay về kích cỡ ban đầu"><i class="fa fa-arrows-h fa-lg control-button" id="size-default"></i></a>'),f.find(".control-button#size-default").on("click",function(){n="40%"===e.css("max-width")?"100%":"40%",e.css({"max-width":n})})),e.prop("naturalWidth")>u+1&&!e.closest(".voz-bbcode-quote").length>0&&(f.append('&nbsp;<a href="#"  data-tooltip="Phóng to"><i class="fa fa-expand fa-lg control-button" id="expand"></i></a>'),f.find(".control-button#expand").on("click",function(){n="100%"===e.css("max-width")?"initial":"100%",a="20px"===e.css("margin-right")?"0":"20px",e.css({"max-width":n,"margin-right":a})})),f.children("a").on("click",function(e){(0,p.default)(this).blur(),"#"===(0,p.default)(this).attr("href")&&e.preventDefault()})};e.wrap('<div class="img-wrapper"></div>');var c=e.attr("src");e.before('<div class="img-controls"></div>');var f=e.siblings();f.append('<a href="#" onclick="return false;"><button>Hiện controller</button></a>'),f.css({opacity:0}),e.parent().hover(function(){f.css({opacity:1})},function(){f.css({opacity:0})}),e.height()/e.width()>1.6&&e.height()>=1e3&&(i=!0,n="40%",e.css({"max-width":n})),f.find("button").on("click",function(){f.empty(),s()})}()})})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a(e,t),i(e),l(e,t),u(e,t),s(e),e}Object.defineProperty(t,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.replaceTextWithLink=o,t.replaceLinks=a,t.removeRedirect=i,t.resolveImage=l,t.resolveYoutube=u,t.imageControl=s,t.proccessLink=c;var d=n(1),p=r(d),h=n(3),m=r(h)},function(e,t,n){"use strict";function r(e){var t=document.createElement("a");t.href=e;var n=new MouseEvent("click",{canBubble:!0,cancelable:!0,view:window,ctrlKey:!0,metaKey:!0});return t.dispatchEvent(n),!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){var r,o,a;!function(i){o=[n(1)],r=i,a="function"==typeof r?r.apply(t,o):r,!(void 0!==a&&(e.exports=a))}(function(e){function t(){var t,n,r={height:s.innerHeight,width:s.innerWidth};return r.height||(t=u.compatMode,!t&&e.support.boxModel||(n="CSS1Compat"===t?c:u.body,r={height:n.clientHeight,width:n.clientWidth})),r}function n(){return{top:s.pageYOffset||c.scrollTop||u.body.scrollTop,left:s.pageXOffset||c.scrollLeft||u.body.scrollLeft}}function r(){if(l.length){var r=0,i=e.map(l,function(e){var t=e.data.selector,n=e.$element;return t?n.find(t):n});for(o=o||t(),a=a||n();r<l.length;r++)if(e.contains(c,i[r][0])){var u=e(i[r]),s={height:u[0].offsetHeight,width:u[0].offsetWidth},f=u.offset(),d=u.data("inview");if(!a||!o)return;f.top+s.height>a.top&&f.top<a.top+o.height&&f.left+s.width>a.left&&f.left<a.left+o.width?d||u.data("inview",!0).trigger("inview",[!0]):d&&u.data("inview",!1).trigger("inview",[!1])}}}var o,a,i,l=[],u=document,s=window,c=u.documentElement;e.event.special.inview={add:function(t){l.push({data:t,$element:e(this),element:this}),!i&&l.length&&(i=setInterval(r,250))},remove:function(e){for(var t=0;t<l.length;t++){var n=l[t];if(n.element===this&&n.data.guid===e.guid){l.splice(t,1);break}}l.length||(clearInterval(i),i=null)}},e(s).bind("scroll resize scrollstop",function(){o=a=null}),!c.addEventListener&&c.attachEvent&&c.attachEvent("onfocusin",function(){a=null})})},function(e,t,n){e.exports=n(6)(133)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(0),a=r(o),i=n(11),l=n(31),u=r(l),s=n(47),c=r(s);window.trackEvent=function(e,t,n){chrome.runtime.sendMessage({__ga:!0,category:e,action:t,label:n})},trackEvent("view-content",location.href),document.onreadystatechange=function(){if("interactive"===document.readyState){window.vozLivingLoader=c.default.init().start();var e=document.createElement("div");e.id="voz-living-app",document.body.appendChild(e),(0,i.render)(a.default.createElement(u.default,null),e)}}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=n(1),d=r(f),p=(u=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){(0,d.default)("#neo_logobar").append('\n      <div style="display: block; float: right">\n        <h3><a href="https://goo.gl/forms/jgSa6ZXtIsRvLJMj1" target="_blank" style="color: white;">\n          <i class="fa fa-wechat"></i> Chat với cộng đồng VozLiving (mở ra tab mới)\n        </a></h3>\n        <h4><a href="https://vozliving.slack.com" target="_blank" style="color: white;">\n          Đã tham gia ? ghé vô chém gió (tab mới)\n        </a></h4>\n      </div>\n    ')}},{key:"componentWillReceiveProps",value:function(e){this.removeAds(e)}},{key:"removeAds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.isRemoveAds;t&&((0,d.default)(".middleads+table > tbody > tr > td:eq(1) [id^=div-gpt-ad]").length>0&&(0,d.default)(".middleads+table > tbody > tr > td:eq(1)").remove(),(0,d.default)(".middleads+div > table > tbody > tr > td:eq(1)").remove(),(0,d.default)("[id^=div-gpt-ad]").hide(),(0,d.default)("[id^=google_ads_div],.middleads").hide())}},{key:"render",value:function(){return null}}]),t}(c.Component),l.propTypes={isRemoveAds:c.PropTypes.bool},u);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(1),c=r(s),f=n(3),d=r(f),p=n(93),h=r(p),m=n(16),v=n(22),b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hookToPost(),n}return i(t,e),l(t,[{key:"hookToPost",value:function(){var e=this;(0,c.default)(".voz-postbit td[id^=td_post_]").each(function(t,n){var r=(0,c.default)(n),o=(0,c.default)('<div class="voz-living-capture-post">\n      <a \n        href="javascript:void(0)"\n        class="tooltip-left voz-living-capture"\n        data-tooltip="Chụp bài viết"\n      >\n        <i class="fa fa-camera" />\n      </a></div>');o.find(" > a").on("click",e.capturePost.bind(e,r,o)),r.find("> div:last").append(o)})}},{key:"capturePost",value:function(e,t){t.find(".voz-living-capture-post-link").remove(),t.find(".voz-living-capture-post-image").remove();try{!function(){var n=(0,c.default)('<input class="voz-living-capture-post-link" type="text" size=30 value="Capturing by Voz Living" />');t.append(n),setTimeout(function(){(0,h.default)(e.parents("table.voz-postbit")[0]).then(function(e){return e.toDataURL("image/png")}).then(function(e){n.val("Uploading to pik.vn");var r=(0,c.default)('<a href="'+e+'" target="_blank" class="voz-living-capture-post-image"><i class="fa fa-file-photo-o" /></a>');return t.append(r),r.on("click",function(){setTimeout(function(){return r.remove()},500)}),(0,m.uploadImage)(e)}).then(function(e){var t=e.url;d.default.isUndefined(t)?n.val("Faild to upload"):n.val(t),n.on("click",function(){var e=100;d.default.isUndefined(t)||((0,v.copyText)(t),n.val("Coppied"),e=1e3),setTimeout(function(){return n.remove()},e)})}).catch(function(e){throw e})},100)}()}catch(e){alert("Có lỗi xảy ra, không thể chụp được bài viết này"),console.error(e)}}},{key:"render",value:function(){return null}}]),t}(u.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){
return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),p=n(1),h=r(p),m=n(2),v=n(11),b=n(19),y=n(28),g=r(y),_=n(21),w=r(_),k=(n(5),(0,m.autobind)((s=u=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.editor=null,n.updateEmotionHelper(e),n}return i(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){this.updateEmotionHelper(e)}},{key:"onIconClick",value:function(e){this.editor&&(0,b.insertTextIntoEditor)(e.text,this.editor)}},{key:"onStickerClick",value:function(e){if(this.editor&&e.url){var t="[IMG]"+e.url+"[/IMG]";(0,b.insertTextIntoEditor)(t,this.editor)}}},{key:"updateEmotionHelper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.emotionHelper,n=e.currentView,r=e.stickerPanelExpand,o=0!==(0,h.default)(".smilebox").length;if(t&&!o&&("thread"===n||"new-reply"===n||"edit-reply"===n||"pm"===n||"insert-pm"===n||"new-thread"===n)){var a=null,i=document.createElement("div"),l="";if("thread"===n||"pm"===n){if(this.editor=(0,h.default)("#vB_Editor_QR_textarea"),a=this.editor.parents("#vB_Editor_QR").eq(0),0===a.length)return;a.append(i)}else"new-reply"!==n&&"edit-reply"!==n&&"insert-pm"!==n&&"new-thread"!==n||(this.editor=(0,h.default)("#vB_Editor_001_textarea"),a=(0,h.default)("#vB_Editor_001_smiliebox"),a.find("table").remove(),l="full",this.editor.parent().append(i));var u=document.createElement("div");u.className="smilebox "+l,i.className=l,a.append(u),(0,v.render)(d.default.createElement(g.default,{onIconClick:this.onIconClick}),u),(0,v.render)(d.default.createElement(w.default,{onStickerClick:this.onStickerClick,stickerPanelExpand:r}),i)}}},{key:"render",value:function(){return null}}]),t}(f.Component),u.propTypes={emotionHelper:f.PropTypes.bool,currentView:f.PropTypes.string,stickerPanelExpand:f.PropTypes.bool},l=s))||l);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=function(){return a.default.createElement("div",{className:"btn-group"},a.default.createElement("a",{className:"btn tooltip-right",href:"https://voz-living.github.io/voz-living-feedback/",style:{fontSize:"20px"},target:"_blank","data-tooltip":"Góp ý/Báo lỗi/Tâm sự"},a.default.createElement("i",{className:"fa fa-envelope-o"})))};t.default=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return m.default.isEmpty(e)?[]:Object.keys(e).map(function(n){var r=e[n],o=r.page,a=r.postNum,i=r.title,l=t[n],u=l?l.postId:null,s=l?10*l.page+l.postNum:0,c=10*o+a,f=Math.max(c-s,0);return{id:n,postId:u,numPostDiff:f,numPostFromTracker:s,numPostTotal:c,title:i}})}Object.defineProperty(t,"__esModule",{value:!0});var s,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=o(d),h=n(3),m=o(h),v=n(7),b=n(20),y=n(9),g=r(y),_=(c=s=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showThreadList:!1},n.dispatch=e.dispatch,n}return l(t,e),f(t,[{key:"shouldComponentUpdate",value:function(e,t){return!m.default.isEqual(e.threadList,this.props.threadList)||!m.default.isEqual(t.showThreadList,this.state.showThreadList)}},{key:"getTime",value:function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()+" "+t.getDay()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()}},{key:"toggleThreadList",value:function(){var e=this.state.showThreadList;this.setState({showThreadList:!e})}},{key:"unsubscribe",value:function(e){var t=this;this.setState({isLoading:!0}),(0,b.unsubscribeThread)(e).then(function(){t.dispatch(g.unsubscribeThread(e))})}},{key:"renderThread",value:function(e){var t=this,n=e.id,r=e.postId,o=e.numPostDiff,a=e.title,i=null===r?"showthread.php?t="+n:"showthread.php?p="+r+"#post"+r;return p.default.createElement("div",{className:"quote-row",key:n},p.default.createElement("div",{className:"quote-title"},p.default.createElement("a",{href:i},a),p.default.createElement("span",{className:"pull-right",onClick:function(){return t.unsubscribe(n)},style:{marginRight:"10px",cursor:"pointer"}},p.default.createElement("span",{className:"fa fa-trash"}))),p.default.createElement("div",{className:"quote-bottom"},p.default.createElement("i",{className:"fa fa-arrow-right"})," Có ",o," mới"))}},{key:"render",value:function(){var e=this,t=this.props.threadList,n="btn tooltip-right "+(this.state.showThreadList?"active":"");return p.default.createElement("div",{className:"btn-group"},p.default.createElement("div",{className:n,onClick:function(){return e.toggleThreadList()},"data-tooltip":"Follow Threads"},p.default.createElement("i",{className:"fa fa-th-list"})),function(){return e.state.showThreadList?[p.default.createElement("div",{key:"voz-mask-quote-list",className:"voz-mask quote-list-mask",onClick:function(){return e.setState({showThreadList:!e.state.showThreadList})}}),p.default.createElement("div",{className:"btn-options",key:"quote-list"},p.default.createElement("h3",null,"Subscribed Threads"),p.default.createElement("div",{className:"quote-list"},t.map(function(t){return e.renderThread(t)})))]:null}())}}]),t}(d.Component),s.propTypes={settings:d.PropTypes.object,dispatch:d.PropTypes.func,threadList:d.PropTypes.array},s.defaultProps={threadList:[],settings:{}},c),w=function(e){var t=e.vozLiving,n=t.followThreads,r=t.settings,o=t.threadTracker,a=u(n,o);return{threadList:a,settings:r}};t.default=(0,v.connect)(w)(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),f=(n(4),function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1,threads:[]},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){}},{key:"request",value:function(){}},{key:"updateFromAPI",value:function(e){if(e&&e.length&&e.length>0){var t=e.map(function(e){var t=e[1],n=parseInt(e[2],10),r=t.split(":|:"),o=l(r,2),a=o[0],i=o[1];return{threadId:a,threadTitle:i,count:n}});this.setState({threads:t})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen;t.threads;return c.default.createElement("div",{className:"btn-group hot-threads"},c.default.createElement("a",{className:"btn tooltip-right"+(n?" active":""),href:"javascript:void(0)",style:{fontSize:"20px"},target:"_blank","data-tooltip":"Thớt hot",onClick:function(){return e.setState({isOpen:!e.state.isOpen})}},c.default.createElement("i",{className:"fa fa-fire"})),c.default.createElement("div",{key:"voz-mask-quote-list",style:{display:n?"block":"none"},className:"voz-mask quote-list-mask",onClick:function(){return e.setState({isOpen:!e.state.isOpen})}}),c.default.createElement("div",{className:"btn-options",style:{display:n?"flex":"none",height:"170px",minHeight:"170px"}},c.default.createElement("h3",null,"Hot Threads (Thời gian thực)"),c.default.createElement("div",null,c.default.createElement("i",null,"(Đang được xem trong 30 phút trước cho tới hiện tại)"),c.default.createElement("br",null),c.default.createElement("p",null,"Chức năng này đang được cân nhắc đóng tạm vì tốn kém chi phí duy trì cũng như lợi ích mang lại không thiết thực lắm."),c.default.createElement("p",null,"Nếu có ý kiến khắc xin mời góp ý ở dưới hoặc trong ",c.default.createElement("a",{href:"https://vozforums.com/showthread.php?t=2846050",target:"_blank"},"thớt"),c.default.createElement("br",null)),"Xin lỗi nếu có gì bất tiện, message này sẽ được xoá trong 1 tháng tới.")))}}]),t}(s.Component));t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.state.isOpen;return s.default.createElement("div",{className:"btn-group"},s.default.createElement("a",{className:"btn tooltip-right"+(t?" active":""),href:"javascript:void(0)",style:{fontSize:"20px"},target:"_blank","data-tooltip":"Linh Xinh",onClick:function(){return e.setState({isOpen:!e.state.isOpen})}},"LX"),s.default.createElement("div",{key:"voz-mask-quote-list",style:{display:t?"block":"none"},className:"voz-mask quote-list-mask",onClick:function(){return e.setState({isOpen:!e.state.isOpen})}}),s.default.createElement("div",{className:"btn-options",style:{display:t?"block":"none",padding:0}},s.default.createElement("iframe",{src:"https://voz-living.github.io/linhxinh/?extension=true",style:{width:"100%",height:"100%"}})))}}]),t}(u.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=n(1),d=r(f),p=n(32),h=(u=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){this.linkHelper(e)}},{key:"linkHelper",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=t.linkHelper,n=t.pageStatusId;if(e&&n!==this.props.pageStatusId){var r=(0,d.default)("body");(0,p.proccessLink)(r)}}},{key:"render",value:function(){return null}}]),t}(c.Component),l.propTypes={linkHelper:c.PropTypes.bool,pageStatusId:c.PropTypes.number},u);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=r(d),h=n(1),m=r(h),v=n(11),b=(u=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n}return i(t,e),f(t,[{key:"render",value:function(){var e=this,t=this.state.isOpen,n=this.props.element;return p.default.createElement("div",{className:"mini-quote-wrapper"},p.default.createElement("div",{className:t?"quote open":"quote",dangerouslySetInnerHTML:{__html:n}}),p.default.createElement("div",{style:{textAlign:"center",position:"relative",marginRight:"72px"}},p.default.createElement("div",{className:"btn btn-minimize-quote",onClick:function(){e.setState({isOpen:!e.state.isOpen})}},t?"Click to collapse quote":"Click to see full quote")))}}]),t}(d.Component),l.propTypes={element:d.PropTypes.any},u),y=(c=s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){this.minimizeQuotes(e)}},{key:"minimizeQuotes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.isMinimizeQuote,n=e.maxHeight;if(t){var r=(0,m.default)("table.voz-bbcode-quote");r&&r.each(function(){var e=(0,m.default)(this).parent();if(e.height()>n){var t=e.html(),r=document.createElement("div");r.className="quote-minimize-wrapper",e.empty().append(r),(0,v.render)(p.default.createElement(b,{element:t}),r)}})}}},{key:"render",value:function(){return null}}]),t}(d.Component),s.propTypes={isMinimizeQuote:d.PropTypes.bool,maxHeight:d.PropTypes.number},s.defaultProps={isMinimizeQuote:!0,maxHeight:200},c);t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this.isLoading=!1,this.element=null}return o(e,[{key:"init",value:function(){if(!this.element){this.element=document.createElement("div"),this.element.id="voz-living-loader-wrapper";var e=document.createElement("div");e.id="voz-living-loader",this.element.appendChild(e),document.body.appendChild(this.element)}return this}},{key:"start",value:function(){return this.element&&(this.element.className="loading"),this}},{key:"stop",value:function(){this.element&&(this.element.className="")}}]),e}();e.exports=new a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){do{if("DIV"===e.tagName&&"true"===e.contentEditable&&e.classList.contains("editor"))return e;e=e.parentElement}while(null!==e);return!1}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=(r(s),n(1)),f=r(c),d=n(16),p=n(22),h=(n(12),n(19)),m='[INDENT][SIZE="1"][COLOR="Navy"]Hình này được tự động upload và chèn link bởi [URL="https://chrome.google.com/webstore/detail/voz-living/bpfbcbgognjimbmabiiphhofpgdcgbgc"]Voz Living[/URL][/COLOR][/SIZE][/INDENT]',v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.bindPasteHandler(),n.state={status:null,text:""},n}return i(t,e),u(t,[{key:"bindPasteHandler",value:function(){document.addEventListener("paste",this.pasteHandler.bind(this))}},{key:"pasteHandler",value:function(e){var t=e.target,n=l(t),r="TEXTAREA"===t.tagName.toUpperCase();if(!r&&!n)return!0;var o=e.clipboardData.items;if(o)for(var a=0;a<o.length;a++){var i=o[a];if(/image/.test(i.type))return console.info("Image in clipboard detected"),this.insertImage(i.getAsFile(),(0,f.default)(t),{isRichEditor:n,isTextEditor:r})}return!0}},{key:"insertImage",value:function(e,t,n){var r=this.handleImageData;if(n.isRichEditor!==!1&&(r=this.handleImageDataRichEditor),this.setState({status:"processing"}),"string"==typeof e)return setTimeout(r.bind(this,e,t,n),1);var o=new FileReader;return o.readAsDataURL(e),o.onload=function(){r(o.result,t,n)},null}},{key:"handleImageData",value:function(e,t){var n=this,r=(0,h.insertTextIntoEditor)("__Uploading ..__",t);t.prop("disabled",!0),(0,d.uploadImage)(e).then(function(e){if(e.url){var o="[img]"+e.url+"[/img]\n"+m;t.prop("disabled",!1),(0,h.insertTextIntoEditor)(o,t,r),n.setState({status:"text",text:o})}else t.prop("disabled",!1),(0,h.insertTextIntoEditor)("",t,r),n.setState({status:null}),console.info("fail to upload image")})}},{key:"handleImageDataRichEditor",value:function(e,t,n){var r=this,o=n.isRichEditor;o.setAttribute("contentEditable",!1),(0,d.uploadImage)(e).then(function(e){if(e.url){var t="[img]"+e.url+"[/img]\n"+m;o.setAttribute("contentEditable",!0),document.execCommand("insertimage",!1,e.url),r.setState({status:"text",text:t})}else o.setAttribute("contentEditable",!0),console.info("fail to upload image")})}},{key:"copy",value:function(e){var t=this;(0,p.copyText)(e),this.setState({status:"copied"}),setTimeout(function(){t.setState({status:null})},1100)}},{key:"render",value:function(){return null}}]),t}(s.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(32),p=n(1),h=r(p),m=(u=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.html,n=e.isLoading;return null===t?null:n?f.default.createElement("div",{style:{textAlign:"center"}},f.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x fa-fw","aria-hidden":"true"})):((0,d.proccessLink)((0,h.default)('[id^="post_message"]',t),!0),f.default.createElement("div",{dangerouslySetInnerHTML:{__html:t.html()}}))}}]),t}(c.Component),l.propTypes={html:c.PropTypes.any,isLoading:c.PropTypes.bool},l.defaultProps={html:null},u);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),d=r(f),p=n(1),h=r(p),m=n(34),v=(r(m),n(0)),b=n(7),y=n(9),g=n(17),_=r(g),w=(u=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dispatch=e.dispatch,n.startTrack.call(n),window.__postTrackerSetup=n.startTrack.bind(n),n}return i(t,e),c(t,[{key:"startTrack",value:function(){var e=this;if(/\/showthread\.php/.test(location.href))try{var t=function(){var t=(0,_.default)((0,h.default)(document.body)),n=parseInt(t.getThreadId(),10),r=t.getThreadTitle();if(n===-1)return{v:void 0};var o=parseInt(t.getPage(),10),a=(0,h.default)("table[id^='post']"),i=e;a.bind("inview",d.default.debounce(function(e,t){if(t){var a=(0,h.default)(this),l=parseInt(a.attr("id").match(/(\d+)/)[1],10),u=~~a.find('a[id^="postcount"]').attr("name")%10,s={threadId:n,postId:l,postNum:u,page:o,title:r};i.props.dispatch((0,y.updatePostTracker)(s))}},300))}();if("object"===("undefined"==typeof t?"undefined":s(t)))return t.v}catch(e){console.error(e)}}},{key:"render",value:function(){return null}}]),t}(v.Component),l.propTypes={dispatch:v.PropTypes.func},u),k=function(){return{}};t.default=(0,b.connect)(k)(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(1),c=r(s),f=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hookBanToUser(),n}return i(t,e),l(t,[{key:"hookBanToUser",value:function(){(0,c.default)(".vbmenu_popup[id^='postmenu_']").each(function(){var e=(0,c.default)(this),t=e.find("a[href*='member.php']").attr("href").match(/\?u=(\d+)/)[1],n=(0,c.default)("<tr> \n        <td class='vbmenu_option vbmenu_option_alink'>\n        <a target='_blank' href='https://vozforums.com/profile.php?do=addlist&userlist=ignore&u="+t+"' \n        title='Mở trong tab mới'><i class=\"fa fa-ban\"/>&nbsp;Add to ban list</a>\n        </td>\n        </tr>");e.find("table tbody").append(n)})}},{key:"render",value:function(){return null}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),d=(r(f),n(0)),p=r(d),h=n(7),m=n(2),v=n(9),b=(0,m.autobind)((s=u=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showQuickLink:!1},n}return i(t,e),c(t,[{key:"addQuickLink",value:function(){this.props.dispatch((0,v.addQuickLink)())}},{key:"updateQuickLink",value:function(e,t,n){this.props.dispatch((0,v.updateQuickLink)(t,n,e.target.value))}},{key:"saveQuickLink",value:function(){this.props.dispatch((0,v.saveQuickLink)())}},{key:"removeQuickLink",value:function(e){this.props.dispatch((0,v.removeQuickLink)(e.id))}},{key:"renderAddButton",value:function(){var e=this,t=this.props.quickLinks,n=void 0===t?[]:t;return p.default.createElement("div",{className:"btn-group"},p.default.createElement("div",{className:"btn tooltip-right",onClick:function(){return e.setState({showQuickLink:!e.state.showQuickLink})},"data-tooltip":"Add Quick Link"},p.default.createElement("i",{className:"fa fa-plus"})),n.map(function(e){return p.default.createElement("a",{key:e.id,href:e.link,className:"btn"},e.label)}),function(){return e.state.showQuickLink?[p.default.createElement("div",{key:"voz-mask-quick-link",className:"voz-mask quick-link-mask",onClick:function(){return e.setState({showQuickLink:!e.state.showQuickLink})}}),p.default.createElement("div",{className:"btn-options",key:"quick-link"},p.default.createElement("h3",null,"Quick Links"),p.default.createElement("table",{className:"quick-link-table"},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",null,"Label"),p.default.createElement("th",null,"Link"),p.default.createElement("th",null,"Action"))),p.default.createElement("tbody",null,n.map(function(t){return p.default.createElement("tr",{key:t.id},p.default.createElement("td",null,p.default.createElement("input",{value:t.label,onChange:function(n){return e.updateQuickLink(n,t.id,"label")}})),p.default.createElement("td",null,p.default.createElement("input",{value:t.link,onChange:function(n){return e.updateQuickLink(n,t.id,"link")}})),p.default.createElement("td",null,p.default.createElement("button",{onClick:function(){return e.removeQuickLink(t)}},"Remove")))}))),p.default.createElement("div",null,p.default.createElement("button",{onClick:e.addQuickLink},"Add"),p.default.createElement("button",{onClick:e.saveQuickLink},"Save")))]:null}())}},{key:"render",value:function(){return p.default.createElement("div",null,this.renderAddButton())}}]),t}(d.Component),u.propTypes={quickLinks:d.PropTypes.array,dispatch:d.PropTypes.func},l=s))||l,y=function(e){var t=e.vozLiving.quickLinks;return{quickLinks:t}};t.default=(0,h.connect)(y)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c,f,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),h=r(p),m=n(0),v=r(m),b=n(4),y=n(1),g=r(y),_=n(11),w=n(97),k=r(w),E=n(2),O=(0,E.autobind)((s=u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"getQuotes",value:function(){var e=this,t=this.props,n=t.editor,r=t.href;n&&r&&(n.attr("disabled","disabled"),(0,b.GET)(r).then(function(t){n.removeAttr("disabled");var r=h.default.trim((0,g.default)(t).find("#vB_Editor_001_textarea").val()),o=n.prop("selectionStart"),a=n.prop("selectionEnd"),i=n.val(),l=i.substring(0,o),u=i.substring(a,i.length);n.val(l+r+u),n[0].setSelectionRange(o+r.length,o+r.length),n.focus(),e.clearQuotes()}))}},{key:"clearQuotes",value:function(){k.default.set("vbulletin_multiquote","");var e='[src="https://vozforums.com/images/buttons/multiquote_on.gif"]',t="https://vozforums.com/images/buttons/multiquote_off.gif",n='[src="http://vozforums.com/images/buttons/multiquote_on.gif"]',r="http://vozforums.com/images/buttons/multiquote_off.gif";(0,g.default)(e)&&(0,g.default)(e).attr("src",t),(0,g.default)(n)&&(0,g.default)(n).attr("src",r)}},{key:"render",value:function(){return v.default.createElement("div",{className:"voz-living-quick-post-quotation"},v.default.createElement("div",{className:"text"},"Click vào nút ",v.default.createElement("img",{src:"https://vozforums.com/images/buttons/multiquote_off.gif",alt:""})," ở bên dưới-phải của mỗi bài viết để Load Quotes ",v.default.createElement("br",null)),v.default.createElement("div",{
className:"control"},v.default.createElement("a",{onClick:this.clearQuotes},"Reset Quotes"),v.default.createElement("a",{onClick:this.getQuotes},"Load Quotes")))}}]),t}(m.PureComponent),u.propTypes={editor:m.PropTypes.any,href:m.PropTypes.string},l=s))||l,P=(f=c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){this.addQuickPostQuotation(e)}},{key:"addQuickPostQuotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.isQuickPostQuotation;if(t){var n=(0,g.default)("#vB_Editor_QR_textarea");if(0===n.length||(0,g.default)(".voz-living-quick-quote-quotation").length>0)return;var r=n.parents("#vB_Editor_QR").eq(0),o=(0,g.default)('<div class="voz-living-quick-quote-quotation"></div>'),a=(0,g.default)("a:has(>img[src*='images/buttons/reply.gif'])")[0].href;if(0===r.length)return;r.append(o),(0,_.render)(v.default.createElement(O,{href:a,editor:n}),o[0])}}},{key:"render",value:function(){return null}}]),t}(m.PureComponent),c.propTypes={isQuickPostQuotation:m.PropTypes.bool},f);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(7),p=n(9),h=(u=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showQuoteList:!1},n.dispatch=e.dispatch,n}return i(t,e),s(t,[{key:"getTime",value:function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()+" "+t.getDay()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()}},{key:"toggleQuoteList",value:function(){var e=this.state.showQuoteList,t=this.props.countUnseen;e===!1&&0!==t&&(this.dispatch((0,p.markAllQuoteSeen)()),chrome.runtime.sendMessage({continueNotify:!0})),this.setState({showQuoteList:!e})}},{key:"renderQuote",value:function(e){return f.default.createElement("div",{className:"quote-row",key:e.post.id},f.default.createElement("div",{className:"quote-title"},f.default.createElement("a",{href:"showthread.php?p="+e.post.id+"#post"+e.post.id,target:"_blank"},e.thread.title)),f.default.createElement("div",{className:"quote-content"},e.post.content),f.default.createElement("div",{className:"quote-bottom"},"By ",f.default.createElement("a",{className:"quote-item-author",href:"/member.php?u="+e.author.userid,target:"_blank"},"(",e.author.username,")")," @ ",this.getTime(e.post.datetime)))}},{key:"render",value:function(){var e=this,t=this.props.settings.notifyQuote;if(!t)return null;var n=this.props,r=n.quoteList,o=n.countUnseen;return f.default.createElement("div",{className:"btn-group"},f.default.createElement("div",{className:"btn tooltip-right "+(this.state.showQuoteList?"active":""),onClick:function(){return e.toggleQuoteList()},"data-tooltip":"Quote list"},f.default.createElement("i",{className:"fa fa-quote-right"}),f.default.createElement("div",{className:"badge"},o)),function(){return e.state.showQuoteList?[f.default.createElement("div",{key:"voz-mask-quote-list",className:"voz-mask quote-list-mask",onClick:function(){return e.setState({showQuoteList:!e.state.showQuoteList})}}),f.default.createElement("div",{className:"btn-options",key:"quote-list"},f.default.createElement("h3",null,"Quotes"),f.default.createElement("div",{className:"quote-list"},r.map(function(t){return e.renderQuote(t)})))]:null}())}}]),t}(c.Component),l.propTypes={settings:c.PropTypes.object,dispatch:c.PropTypes.func,quoteList:c.PropTypes.array,countUnseen:c.PropTypes.number},l.defaultProps={quoteList:[],settings:{},countUnseen:0},u),m=function(e){var t=e.vozLiving,n=t.quoteList,r=t.settings,o=n.reduce(function(e,t){var n=e;return t.hasSeen===!1&&(n+=1),n},0);return{quoteList:n,settings:r,countUnseen:o}};t.default=(0,d.connect)(m)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),p=n(2),h=n(1),m=r(h),v=n(18),b=r(v),y=n(4),g=n(12),_=n(9),w=(0,p.autobind)((s=u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"componentDidMount",value:function(){this.bindReloadButton()}},{key:"componentWillReceiveProps",value:function(e){this.bindReloadButton(e)}},{key:"componentWillUnmount",value:function(){b.default.unbind(["command+r","ctrl+r"])}},{key:"bindReloadButton",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=(0,g.getCurrentView)();"thread-list"===n&&t.isReloadButton?b.default.bind(["command+r","ctrl+r"],function(t){t.preventDefault(),e.reloadPage()}):b.default.unbind(["command+r","ctrl+r"])}},{key:"reloadPage",value:function(){var e=this.props.dispatch;window.vozLivingLoader.start(),(0,y.GET)(location.href).then(function(t){var n=(0,m.default)("#threadslist",t),r=(0,m.default)("#threadslist");r.replaceWith(n),e((0,_.getThreadList)()),window.vozLivingLoader.stop()})}},{key:"render",value:function(){var e=this.props.isReloadButton,t=(0,g.getCurrentView)();return"thread-list"===t&&e?d.default.createElement("div",{className:"btn-group"},d.default.createElement("div",{className:"btn tooltip-right",onClick:this.reloadPage,style:{fontSize:"20px"},"data-tooltip":"Fast Refresh"},d.default.createElement("i",{className:"fa fa-refresh"}))):null}}]),t}(f.Component),u.propTypes={dispatch:f.PropTypes.func,isReloadButton:f.PropTypes.bool},l=s))||l;t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),p=n(2),h=n(14),m=r(h),v=(0,p.autobind)((s=u=function(e){function t(e){o(this,t);var n={command:"formatBlock",value:e.block};return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n))}return i(t,e),c(t,[{key:"onClick",value:function(e){return e.preventDefault(),!1}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"fore-wrapper"},d.default.createElement("i",{className:"fa fa-font",style:{color:"#C96"}}),d.default.createElement("div",{className:"fore-palette"},this.props.palette.map(function(t){return d.default.createElement(m.default,{command:e.props.command,value:t,extraProps:{className:"palette-item",style:{backgroundColor:t}},tt:e.props.tt})})))}}]),t}(m.default),u.propTypes={command:f.PropTypes.string.isRequired,palette:f.PropTypes.arrayOf(f.PropTypes.sring)},l=s))||l;t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),p=n(2),h=n(14),m=r(h),v=(0,p.autobind)((s=u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"onClick",value:function(e){var t=this.props,n=t.html,r=t.showDefaultUI,o=document.getSelection(),a="";if(o.rangeCount){for(var i=document.createElement("div"),l=0,u=o.rangeCount;l<u;++l)i.appendChild(o.getRangeAt(l).cloneContents());a=i.innerHTML}var s=n.replace(/__SELECTION__/g,a);return document.execCommand("insertHTML",r,s),e.preventDefault(),!1}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.tt;return d.default.createElement("a",{href:"#","data-command":"#","data-tooltip":n,style:{position:"relative"},onClick:this.onClick},t)}}]),t}(m.default),u.propTypes={html:f.PropTypes.string.isRequired,label:f.PropTypes.node},l=s))||l;t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),p=n(2),h=n(14),m=r(h),v=(0,p.autobind)((s=u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"onClick",value:function(e){var t=this.props,n=t.block,r=t.showDefaultUI;return document.execCommand("formatBlock",r,n),e.preventDefault(),!1}},{key:"render",value:function(){var e=this.props,t=e.tt,n=e.block;return d.default.createElement("a",{href:"#","data-command":"#","data-tooltip":t,style:{position:"relative"},onClick:this.onClick},n.toUpperCase())}}]),t}(m.default),u.propTypes={block:f.PropTypes.string.isRequired},u.defaultProps={block:"p"},l=s))||l;t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=(r(f),n(2)),p=n(14),h=r(p),m=(0,d.autobind)((s=u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"onClick",value:function(e){var t=this.props,n=t.command,r=t.showDefaultUI,o=t.ask,a=t.def,i=window.prompt(o,a);return null!==i&&document.execCommand(n,r,i),e.preventDefault(),!1}}]),t}(h.default),u.propTypes={command:f.PropTypes.string.isRequired,ask:f.PropTypes.string.isRequired,def:f.PropTypes.string.isRequired},l=s))||l;t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){for(var e=["#vB_Editor_001_save","#qr_submit"],t=0;t<e.length;t++){var n=document.querySelector(e[t]);if(null!==n)return void n.click()}}function s(){document.querySelector('[name="preview"]').click()}function c(e,t){do{if("true"===e.contentEditable&&e.classList.contains("editor"))return!1;if(e.tagName&&e.tagName.toUpperCase()===t)return!0;e=e.parentElement}while(null!==e);return!1}function f(e){localStorage.setItem(B,e)}function d(){localStorage.removeItem(B)}Object.defineProperty(t,"__esModule",{value:!0});var p,h,m,v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=n(0),y=r(b),g=n(3),_=r(g),w=n(15),k=r(w),E=n(2),O=(n(11),n(14)),P=r(O),x=n(58),T=r(x),S=n(56),C=r(S),j=n(59),I=r(j),L=n(57),N=r(L),M=n(63),R=r(M),V=n(13),q=n(28),z=r(q),U=n(21),A=r(U),D=n(4),B="voz_living_post_data",Q=(0,E.autobind)((m=h=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.editableNode=null,n.onChangeThrottled=_.default.throttle(n.onChange,500),n}return l(t,e),v(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"componentDidMount",value:function(){n(90),this.addRichQuoteToPosts()}},{key:"addRichQuoteToPosts",value:function(){var e=this;document.querySelectorAll('img[src$="/images/buttons/multiquote_off.gif"][id^=mq]').forEach(function(t){var n=t.parentElement,r=t.id.match(/\d+/)[0],o=document.createElement("a");o.className="rich-quote",o.setAttribute("data-tooltip","Trích dẫn"),o.addEventListener("click",function(){e.onQuotePost(r)});var a=document.createElement("i");a.className="fa fa-quote-right",o.appendChild(a),n.insertAdjacentElement("beforebegin",o)})}},{key:"onQuotePost",value:function(e){var t=document.querySelector("#post_message_"+e),n=document.querySelector("#postmenu_"+e+" .bigusername").textContent,r=document.createElement("quote"),o=document.createElement("br");r.setAttribute("data-by",n),r.appendChild(t.cloneNode(!0)),this.editableNode.appendChild(r),this.editableNode.appendChild(o);var a="//vozforums.com/newreply.php?do=newreply&p="+e;(0,D.GET)(a).then(function(e){var t=k.default.load(e),n=t("#vB_Editor_001_textarea").val();r.setAttribute("data-bbcode",n)})}},{key:"onChange",value:function(e){}},{key:"onKeyDown",value:function(e){if(13===e.keyCode&&e.shiftKey===!1){var t=document.getSelection();if(t&&t.anchorNode&&c(t.anchorNode,"QUOTE"))return e.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;"),document.execCommand("insertHTML",!1,"<br />"),!1}return!0}},{key:"turnFeatureOff",value:function(e){return e.preventDefault(),(0,V.updateConfig)("enableRichEditor",!1).then(function(){location.reload()}),!1}},{key:"submit",value:function(e){this.toBBCode(e),d(),u()}},{key:"onIconClick",value:function(e){document.execCommand("insertimage",!1,e.src)}},{key:"onStickerClick",value:function(e){document.execCommand("insertimage",!1,e.url)}},{key:"toBBCode",value:function(e){e&&e.preventDefault();var t=(0,R.default)(this.editableNode),n=this.props.target;return document.getElementById(n).value=t,!1}},{key:"preview",value:function(e){return e.preventDefault(),this.toBBCode(e),f(this.editableNode.innerHTML),s(),!1}},{key:"addNewLine",value:function(e){var t=document.createElement("div");return t.innerHTML="&nbsp;",this.editableNode.appendChild(t),setTimeout(function(){return t.focus()},200),e.preventDefault(),!1}},{key:"render",value:function(){var e=this,t=this.props.stickerPanelExpand,n=localStorage.getItem(B);return null===n&&(n="<br /><br />"),n=n.replace(/script>/g,""),y.default.createElement("div",{className:"editor-wrapper"},y.default.createElement("div",{className:"toolbar"},y.default.createElement(C.default,{command:"forecolor",palette:["black","sienna","darkolivegreen","darkgreen","darkslateblue","navy","indigo","darkslategray","darkred","darkorange","olive","green","teal","blue","slategray","dimgray","red","sandybrown","yellowgreen","seagreen","mediumturquoise","royalblue","purple","gray","magenta","orange","yellow","lime","cyan","deepskyblue","darkorchid","silver","pink","wheat","lemonchiffon","palegreen","paleturquoise","lightblue","plum","white"],tt:"Màu chữ"}),y.default.createElement(P.default,{command:"bold",faClass:"bold",tt:"Bôi đậm"}),y.default.createElement(P.default,{command:"italic",faClass:"italic",tt:"In nghiêng"}),y.default.createElement(P.default,{command:"underline",faClass:"underline",tt:"Gạch chân"}),y.default.createElement(P.default,{command:"strikeThrough",faClass:"strikethrough",tt:"Gạch chữ"}),y.default.createElement(O.Separator,null),y.default.createElement(P.default,{command:"justifyLeft",faClass:"align-left",tt:"Canh trái"}),y.default.createElement(P.default,{command:"justifyCenter",faClass:"align-center",tt:"Canh giữa"}),y.default.createElement(P.default,{command:"justifyRight",faClass:"align-right",tt:"Canh phải"}),y.default.createElement(O.Separator,null),y.default.createElement(P.default,{command:"indent",faClass:"indent",tt:"Thụt vào"}),y.default.createElement(P.default,{command:"outdent",faClass:"outdent",tt:"Thụt ra"}),y.default.createElement(N.default,{html:"<quote>__SELECTION__</quote>",label:y.default.createElement("i",{className:"fa fa-quote-right"}),tt:"Khung trích dẫn"}),y.default.createElement(P.default,{command:"insertUnorderedList",faClass:"list-ul",tt:"Đánh danh sách"}),y.default.createElement(P.default,{command:"insertOrderedList",faClass:"list-ol",tt:"Đánh số"}),y.default.createElement(O.Separator,null),y.default.createElement(I.default,{command:"createlink",faClass:"link",ask:"Link:",def:"http://",tt:"Chèn link"}),y.default.createElement(P.default,{command:"unlink",faClass:"unlink",tt:"Xoá link"}),y.default.createElement(I.default,{command:"insertimage",faClass:"image",ask:"Link:",def:"http://",tt:"Chèn ảnh"}),y.default.createElement(O.Separator,null),y.default.createElement(T.default,{block:"h1",tt:"Tiêu đề (SIZE=7)"}),y.default.createElement(T.default,{block:"h2",tt:"Tiêu đề (SIZE=6)"}),y.default.createElement(T.default,{block:"h3",tt:"Tiêu đề (SIZE=5)"}),y.default.createElement(T.default,{block:"h4",tt:"Tiêu đề (SIZE=4)"}),y.default.createElement(O.Separator,null),y.default.createElement(T.default,{block:"p",tt:"Định dạng đoạn văn"}),y.default.createElement(O.Separator,null),y.default.createElement(P.default,{command:"undo",faClass:"undo",tt:"Undo"}),y.default.createElement(P.default,{command:"redo",faClass:"repeat",tt:"Redo"})),y.default.createElement("div",{className:"editor",contentEditable:"true",onInput:this.onChangeThrottled,onKeyDown:this.onKeyDown,ref:function(t){e.editableNode=t},dangerouslySetInnerHTML:{__html:n}}),y.default.createElement("div",{className:"RE-btn-control"},y.default.createElement("a",{href:"#",onClick:this.addNewLine,style:{position:"relative"},"data-tooltip":"Thêm dòng mới ở dưới cùng"},"Thêm dòng mới")," | ",y.default.createElement("a",{href:"#",onClick:this.turnFeatureOff,style:{position:"relative"},"data-tooltip":"Tắt và load lại trang"},"Tắt WYSIWYG Editor"),"  | ",y.default.createElement("a",{href:"https://vozforums.com/newreply.php?do=newreply&p=124977693",target:"_blank",style:{position:"relative"},"data-tooltip":"Mở ra trang mới"},"Góp ý"),y.default.createElement("div",{style:{float:"right"}},y.default.createElement("button",o({onClick:this.toBBCode,"data-tooltip":"Không gửi bài",style:{position:"relative"}},"data-tooltip","Không gửi bài"),"To BBCode"),y.default.createElement("button",{onClick:this.preview},"Preview"),y.default.createElement("button",{onClick:this.submit},"Gửi bài"))),y.default.createElement("div",{style:{clear:"both"}},y.default.createElement("div",{className:""},y.default.createElement(A.default,{onStickerClick:this.onStickerClick,stickerPanelExpand:t}),y.default.createElement("div",{className:"smilebox"},y.default.createElement(z.default,{onIconClick:this.onIconClick})))),y.default.createElement("div",null,"Ô Reply ở phía dưới chỉ nhằm mục đích tham khảo, bạn có thể nhấn vào ",y.default.createElement("img",{src:"https://vozforums.com/images/buttons/collapse_tcat.gif"})," để đóng tạm"))}}]),t}(b.Component),h.propTypes={target:b.PropTypes.string,stickerPanelExpand:b.PropTypes.bool.isRequired,currentView:b.PropTypes.string},p=m))||p;t.default=Q},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=(r(f),n(1)),p=r(d),h=n(2),m=n(13),v=(0,h.autobind)((s=u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"componentDidMount",value:function(){var e=document.createElement("a"),t=document.createTextNode("Thử nghiệm WYSIWYG Editor ?");e.appendChild(t),e.href="#",e.style.textAlign="center",e.addEventListener("click",function(e){return e.preventDefault(),(0,m.updateConfig)("enableRichEditor",!0).then(function(){location.reload()}),!1}),(0,p.default)(".panelsurround .panel").prepend(e)}},{key:"render",value:function(){return null}}]),t}(f.Component),u.propTypes={},l=s))||l;t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t="hide_adv_editor",n=(0,m.default)('<a href="#"><img src="https://vozforums.com/images/buttons/collapse_tcat.gif"> Đóng/mở Khung soạn thảo gốc</a>');n.on("click",function(n){return n.preventDefault(),e.toggleClass(t),!1}),e.addClass(t),e.before(n)}Object.defineProperty(t,"__esModule",{value:!0});var u,s,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=r(d),h=n(1),m=r(h),v=n(2),b=n(11),y=n(60),g=r(y),_=n(61),w=r(_),k=(0,v.autobind)((c=s=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),f(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("#vB_Editor_001_textarea"),t=document.querySelector("#vB_Editor_QR_textarea"),n=void 0,r=void 0;if(null!==e){var o=(0,m.default)("#vB_Editor_001").closest("table"),a=(0,m.default)('<div class="vozliving-editor"></div>');a.insertBefore(o),n=a[0],r="vB_Editor_001_textarea",l(o)}else if(null!==t){var i=(0,m.default)("form#qrform");0===i.length&&(i=(0,m.default)("form#message_form"),i.length>0&&l(i));var u=(0,m.default)('<div class="vozliving-editor"></div>');u.insertBefore(i),n=u[0],r="vB_Editor_QR_textarea"}(0,b.render)(p.default.createElement(g.default,{target:r,stickerPanelExpand:this.props.stickerPanelExpand,currentView:this.props.currentView}),n)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return console.log("RichEditor"),null}}]),t}(d.Component),s.propTypes={stickerPanelExpand:d.PropTypes.bool.isRequired,currentView:d.PropTypes.string},u=c))||u;k.Recommendation=w.default,t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}function i(e){return/rgba?/.test(e)?a(e):e}function l(e,t,n){var r=e.pre,o=e.post,a=e.tracker,i="undefined"!=typeof r&&null!==r,l="undefined"!=typeof o&&null!==o;i&&r.unshift(t),l&&o.push(n),(i||l)&&a.count++}function u(e,t){var n=[],r=[],o=[],a={count:0},s=l.bind(null,{pre:r,post:o,tracker:a}),c=!0;if("undefined"==typeof e.getAttribute||"true"!==e.getAttribute("contenteditable")&&e.getAttribute("contenteditable")!==!0)switch(e.nodeType){case 1:switch(e.tagName.toUpperCase()){case"UL":s("[LIST]","[/LIST]"),c=!0;break;case"OL":s("[LIST=1]","[/LIST]");break;case"LI":s("[*]");break;case"B":s("[B]","[/B]");break;case"U":s("[U]","[/U]");break;case"I":s("[I]","[/I]");break;case"STRIKE":s("[STRIKE]","[/STRIKE]");break;case"DIV":s(null,"\n");break;case"P":s("\n","\n");break;case"BR":s("\n");break;case"BLOCKQUOTE":s("[INDENT]","[/INDENT]");break;case"QUOTE":var d=e.getAttribute("data-by"),p=e.getAttribute("data-bbcode");if(d&&p)return p;s("[QUOTE]","[/QUOTE]");break;case"IMG":var h=e.src;if(/:\/\/vozforums\.com\/images\//.test(h)){var m=h.split(/:\/\/vozforums\.com/)[1];if(f[m])return f[m]}return"[IMG]"+h+"[/IMG]";case"FONT":var v=e.color;v&&s('[COLOR="'+i(v)+'"]',"[/COLOR]");break;case"A":var b=e.href;b&&b.length>0&&s("[URL="+b+"]","[/URL]");break;case"H1":s('[B][SIZE="7"]',"[/SIZE][/B]\n");break;case"H2":s('[B][SIZE="6"]',"[/SIZE][/B]\n");break;case"H3":s('[B][SIZE="5"]',"[/SIZE][/B]\n");break;case"H4":s('[B][SIZE="4"]',"[/SIZE][/B]\n");break;case"TABLE":case"TR":s(null,"\n");break;case"IFRAME":var y=e.src;return/video/.test(y)?"\n"+y+"\n":""}if(c===!0){var g=e.style,_=g.textAlign,w=g.fontWeight,k=g.fontStyle,E=g.textDecoration,O=g.color;switch(_.toUpperCase()){case"LEFT":s("[LEFT]","[/LEFT]");break;case"RIGHT":s("[RIGHT]","[/RIGHT]");break;case"CENTER":s("[CENTER]","[/CENTER]")}("bold"===w||~~w>=600)&&s("[B]","[/B]"),"italic"===k&&s("[I]",["/I"]),"underline"===E&&s("[U]",["/U"]),O&&""!==O.trim()&&s('[COLOR="'+i(O)+'"]',"[/COLOR]")}break;case 3:return t&&t.tagName&&["DIV","P"].indexOf(t.tagName.toUpperCase())>-1?e.textContent+"\n":e.textContent;case 8:return null;default:return null}return e.childNodes.forEach(function(t,r){var o=u(t,e.childNodes[r+1]);null!==o&&n.push(o)}),r.concat(n).concat(o).join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var s=n(30),c=r(s),f=c.default.reduce(function(e,t){var n=t.text,r=t.src;return Object.assign(e,o({},r,n))},{})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(3),p=r(d),h=n(4),m=n(15),v=(u=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loaded:!1,loading:!1,html:""},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.getPost()}},{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId||!p.default.isEqual(t,this.state)}},{key:"getPost",value:function(){var e=this,t="voz_living_post_"+this.props.postId,n=window.localStorage.getItem(t);null!==n?this.loadHtml(n):this.loadPost().then(function(n){e.loadHtml(n),window.localStorage.setItem(t,n)})}},{key:"loadHtml",value:function(e){this.setState({html:{__html:e.replace(/Sent from my.*/,"")},loaded:!0,loading:!1})}},{key:"loadPost",value:function(){return this.setState({loading:!0}),(0,h.GET)("//vozforums.com/showpost.php?p="+this.props.postId).then(function(e){
var t=m.load(e);return t.html(".voz-postbit")})}},{key:"render",value:function(){return this.state.loaded&&!this.state.loading?f.default.createElement("div",{dangerouslySetInnerHTML:this.state.html}):this.loading?f.default.createElement("div",null,"Loading post ",this.props.postId):f.default.createElement("div",null)}}]),t}(c.Component),l.propTypes={postId:c.PropTypes.number},u);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(7),p=n(3),h=r(p),m=n(9),v=n(64),b=r(v),y=n(33),g=r(y),_=n(12),w=(u=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dispatch=e.dispatch,n.state={showList:!1,showFullInfo:!1},n}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return!h.default.isEqual(e,this.props)||!h.default.isEqual(t,this.state)}},{key:"openPostInNewTab",value:function(e){return(0,g.default)("/showthread.php?p="+e),!1}},{key:"unsavePost",value:function(e){return this.dispatch((0,m.unsavePost)(e)),!1}},{key:"renderPost",value:function(e){var t=this.openPostInNewTab.bind(this,e),n=this.unsavePost.bind(this,e);return f.default.createElement("div",{className:"bookmark-item-wrapper",key:e},f.default.createElement("div",{className:"bookmark-tools"},f.default.createElement("a",{href:"javscript:void(0)",className:"bookmark-remove",onClick:n},f.default.createElement("i",{className:"fa fa-trash"})),f.default.createElement("a",{href:"javscript:void(0)",className:"open-post-new-tab",onClick:t},f.default.createElement("i",{className:"fa fa-external-link"}))),f.default.createElement(b.default,{postId:e}))}},{key:"render",value:function(){var e=this,t=this.props.savedPosts;return f.default.createElement("div",{className:"btn-group"},f.default.createElement("div",{className:"btn tooltip-right "+(this.state.showList?"active":""),onClick:function(){return e.setState({showList:!e.state.showList})},"data-tooltip":"Bài đánh dấu"},f.default.createElement("i",{className:"fa fa-bookmark"})),function(){return e.state.showList?[f.default.createElement("div",{key:"voz-mask-quote-list",className:"voz-mask quote-list-mask",onClick:function(){return e.setState({showList:!e.state.showList})}}),f.default.createElement("div",{className:(0,_.toClassName)({"btn-options":!0,"bookmark-list":!0,"hide-full-post-info":!e.state.showFullInfo}),key:"quote-list"},f.default.createElement("h3",null,"Bài viết được đánh dấu"),f.default.createElement("div",{className:"show-full-post-option"},f.default.createElement("label",null,"Hiện toàn bộ thông tin",f.default.createElement("input",{type:"checkbox",checked:e.state.showFullInfo,onChange:function(){return e.setState({showFullInfo:!e.state.showFullInfo})}}))),f.default.createElement("div",{className:"quote-list"},Object.keys(t).map(function(n){return e.renderPost(parseInt(n,10),t[n])})))]:null}())}}]),t}(c.Component),l.propTypes={dispatch:c.PropTypes.func,savedPosts:c.PropTypes.object},u),k=function(e){var t=e.vozLiving.savedPosts;return{savedPosts:t}};t.default=(0,d.connect)(k)(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),f=(r(c),n(1)),d=r(f),p=n(34),h=(r(p),n(0)),m=n(7),v=n(9),b=(u=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dispatch=e.dispatch,n.bookmarks=[],n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.bindToPosts(),this.componentWillUpdate(this.props)}},{key:"componentWillUpdate",value:function(e){e.pageStatusId!==this.props.pageStatusId&&(this.bookmarks=[],this.bindToPosts());var t=e.savedPosts;this.bookmarks.forEach(function(e){var n=e.$bookmark,r=e.postId;t[r]?n.hasClass("bookmarked")||(n.addClass("bookmarked"),n.attr("data-tooltip","Bỏ đánh dấu")):n.hasClass("bookmarked")&&(n.removeClass("bookmarked"),n.attr("data-tooltip","Đánh dấu"))})}},{key:"bindToPosts",value:function(){var e=this;(0,d.default)(".voz-postbit").each(function(t,n){var r=(0,d.default)(n);try{var o=parseInt(r.attr("id").match(/(\d+)/)[1],10),a=(0,d.default)('<a \n          href="#"\n          data-tooltip="Đánh dấu"\n          class="voz-living-post-bookmark tooltip-left">\n            <i class="fa fa-bookmark" />\n          </a>');a.on("click",e.handleClick.bind(e,o)),r.find(".thead").prepend(a),e.bookmarks.push({$bookmark:a,postId:o})}catch(e){return void console.error(e)}})}},{key:"handleClick",value:function(e){return this.props.savedPosts[e]?this.dispatch((0,v.unsavePost)(e)):this.dispatch((0,v.savePost)(e)),!1}},{key:"render",value:function(){return null}}]),t}(h.Component),l.propTypes={dispatch:h.PropTypes.func,savedPosts:h.PropTypes.object,pageStatusId:h.PropTypes.number},u),y=function(e){var t=e.vozLiving.savedPosts;return{savedPosts:t}};t.default=(0,m.connect)(y)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"openOptions",value:function(){chrome.runtime.sendMessage({service:"open-options"})}},{key:"render",value:function(){return s.default.createElement("div",{className:"btn-group"},s.default.createElement("div",{className:"btn tooltip-right",onClick:this.openOptions,"data-tooltip":"Options"},s.default.createElement("i",{className:"fa fa-cogs"})))}}]),t}(u.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){do{if(e.classList.contains("voz-post-message")===!0)return e;e=e.parentElement}while(null!==e);return!1}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),f=n(1),d=r(f),p=(n(12),n(22)),h=n(19),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.bindHandlers=function(){document.addEventListener("mouseup",n.mouseUpHandler)},n.mouseUpHandler=function(e){var t=[],r=window.getSelection().toString(),o={};if(""===r.trim())return void(n.state.features.length>0&&setTimeout(function(){return n.setState({features:[]})},200));t.push(n.fCopy()),t.push(n.fGG());var a=l(e.target);if(a!==!1){var i=a.getAttribute("id").match(/post_message_(\d+)/)[1];o={pid:i},t.unshift(n.fQuote());var u=e.pageX+5,s=e.pageY+10;n.setState({features:t,x:u,y:s,textSel:r,meta:o})}},n.fQuote=function(){return c.default.createElement("a",{onClick:n.quote},c.default.createElement("i",{className:"fa fa-quote-right"}))},n.quote=function(){var e=n.state.meta.pid,t=document.querySelector("#postmenu_"+e).innerText.trim(),r="[QUOTE="+t+";"+e+"]... "+n.state.textSel+" ...[/QUOTE]\n";(0,h.insertTextIntoEditor)(r,(0,d.default)("#vB_Editor_QR_textarea"))},n.fCopy=function(){return c.default.createElement("a",{onClick:function(){(0,p.copyText)(n.state.textSel)},key:"copy"},c.default.createElement("i",{className:"fa fa-copy"}))},n.fGG=function(){return c.default.createElement("a",{onClick:function(){window.open("https://www.google.com/?gws_rd=ssl#q="+n.state.textSel)},key:"gg"},c.default.createElement("i",{className:"fa fa-google"}))},n.fYT=function(){return c.default.createElement("a",{onClick:function(){window.open("https://www.youtube.com/results?search_query="+n.state.textSel)},key:"YT"},c.default.createElement("i",{className:"fa fa-youtube-play"}))},n.bindHandlers(),n.state={features:[],x:0,y:0,textSel:"",meta:{}},n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.state,t=e.x,n=e.y,r=e.features;return 0===r.length?null:c.default.createElement("div",{className:"voz-living-smart-selection",style:{left:t,top:n}},r)}}]),t}(s.Component);t.default=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=o(d),h=n(3),m=o(h),v=n(2),b=n(7),y=n(12),g=n(20),_=n(9),w=r(_),k=(0,v.autobind)((c=s=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.view=(0,y.getCurrentView)(),n.state={isLoading:!1},n}return l(t,e),f(t,[{key:"subscribe",value:function(){var e=this;this.setState({isLoading:!0}),(0,g.subscribeThread)(this.props.threadId).then(function(){e.props.dispatch(w.subscribeThread(e.props.threadId,e.props.currentPost)),e.setState({isLoading:!1})})}},{key:"unsubscribe",value:function(){var e=this;this.setState({isLoading:!0}),(0,g.unsubscribeThread)(this.props.threadId).then(function(){e.props.dispatch(w.unsubscribeThread(e.props.threadId)),e.setState({isLoading:!1})})}},{key:"render",value:function(){return this.props.isThreadView?p.default.createElement("div",{className:"btn-group"},this.state.isLoading?p.default.createElement("div",{className:"btn tooltip-right",style:{fontSize:"20px"},"data-tooltip":"Processing"},p.default.createElement("i",{className:"fa fa-spinner fa-spin"})):this.props.isSubscribed?p.default.createElement("div",{className:"btn tooltip-right",onClick:this.unsubscribe,style:{fontSize:"20px"},"data-tooltip":"Unsubscribe"},p.default.createElement("i",{className:"fa fa-chain-broken"})):p.default.createElement("div",{className:"btn tooltip-right",onClick:this.subscribe,style:{fontSize:"20px"},"data-tooltip":"Subscribe"},p.default.createElement("i",{className:"fa fa-check-square-o"}))):null}}]),t}(d.Component),s.propTypes={dispatch:d.PropTypes.func,isSubscribed:d.PropTypes.bool,isThreadView:d.PropTypes.bool,threadId:d.PropTypes.any,currentPost:d.PropTypes.object},u=c))||u,E=function(e){var t=e.vozLiving,n="thread"===t.misc.currentView;return{currentPost:t.currentPost,isThreadView:n,isSubscribed:!!n&&!m.default.isUndefined(t.followThreads[t.misc.threadId]),threadId:n?t.misc.threadId:null}};t.default=(0,b.connect)(E)(k)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=n(1),d=r(f),p=n(18),h=r(p),m=n(3),v=r(m),b=(u=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.currentView;"thread"===e&&((0,d.default)(".pagenav > table > tbody > tr").prepend('<td class="voz-living-arrow-nav-help">\n        Dùng phím mũi tên <- và -> để chuyển trang\n        </td>'),h.default.bind("right",function(e){if(window.__goNextPage)return window.__goNextPage(e);var t=(0,d.default)('a[rel="next"]');if(t){var n=t.eq(0).attr("href");v.default.isUndefined(n)||(window.location.href=n)}}),h.default.bind("left",function(e){if(window.__goPreviousPage)return window.__goPreviousPage(e);var t=(0,d.default)('a[rel="prev"]');if(t){var n=t.eq(0).attr("href");v.default.isUndefined(n)||(window.location.href=n)}}))}},{key:"componentWillUnmount",value:function(){h.default.unbind(["left","right"])}},{key:"render",value:function(){return null}}]),t}(c.Component),l.propTypes={currentView:c.PropTypes.string},u);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(7),p=n(11),h=n(1),m=r(h),v=n(3),b=r(v),y=n(72),g=r(y),_=n(18),w=r(_),k=n(33),E=r(k),O=n(31),P=(u=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){(0,m.default)(".pagenav > table > tbody > tr").prepend('<td class="voz-living-arrow-nav-help">\n      Dùng phím mũi tên <- và -> để chuyển trang khi xem trước thớt đóng\n      </td>'),w.default.bind("left",function(){if(window.vozLivingCurrentThreadPreview)window.vozLivingCurrentThreadPreview.prevPost();else{var e=(0,m.default)('a[rel="prev"]');if(e){var t=e.eq(0).attr("href");b.default.isUndefined(t)||(window.location.href=t)}}}),w.default.bind("right",function(){if(window.vozLivingCurrentThreadPreview)window.vozLivingCurrentThreadPreview.nextPost();else{var e=(0,m.default)('a[rel="next"]');if(e){var t=e.eq(0).attr("href");b.default.isUndefined(t)||(window.location.href=t)}}})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.threadList,r=e.isThreadPreview;n.length>0&&r&&n.forEach(function(e){t.mountThreadPreviewControl(e),t.mountOpenNewTabControl(e)})}},{key:"componentWillUnmount",value:function(){w.default.unbind(["left","right"])}},{key:"mountThreadPreviewControl",value:function(e){var t=e.id,n=e.pageNum,r=e.element,o=document.createElement("div");o.id="thread-preview-"+t,o.className="thread-preview-wrapper",r.append(o),(0,p.render)(f.default.createElement(d.Provider,{store:O.store},f.default.createElement(g.default,{id:t,pageNum:n,element:r})),o)}},{key:"mountOpenNewTabControl",value:function(e){var t=e.id,n=e.element,r=n.find("a[id=thread_title_"+t+"]");this.props.autoGotoNewthread===!0&&(r[0].href=r[0].href.replace(/php\?/,"php?goto=newpost&"));var o=r[0].href,a=(0,m.default)('<a \n      class="voz-living-newtab tooltip-bottom" \n      href="'+o+'"\n      data-tooltip="Mở tab mới"\n      target="_blank">\n        &nbsp;&nbsp;&nbsp;<i class="fa fa-external-link"/>&nbsp;&nbsp;&nbsp;\n      </a>');r.after(a),a.on("click",function(){return(0,E.default)(o)})}},{key:"render",value:function(){return null}}]),t}(c.Component),l.propTypes={threadList:c.PropTypes.array,dispatch:c.PropTypes.func,isThreadPreview:c.PropTypes.bool,autoGotoNewthread:c.PropTypes.bool},u),x=function(e){var t=e.vozLiving.threadList;return{threadList:t}};t.default=(0,d.connect)(x)(P)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=o(d),h=n(4),m=n(1),v=o(m),b=n(3),y=o(b),g=n(2),_=n(18),w=o(_),k=n(49),E=o(k),O=n(20),P=n(7),x=n(9),T=r(x),S=(0,g.autobind)((c=s=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={content:"",show:!1,currentPostIndex:null,currentPageIndex:null,currentHTMLViewPosts:[],isLoading:!1},n}return l(t,e),f(t,[{key:"componentDidMount",value:function(){this.url=this.getPageUrl()}},{key:"getPageUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"https://vozforums.com/showthread.php?t="+this.props.id+"&page="+e}},{key:"getPageByIndex",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentPageIndex;return new Promise(function(n){var r=e.props.pageNum;if(t<r){var o=e.getPageUrl(t+1);(0,h.GET)(o).then(function(e){n(e)})}else n(null)})}},{key:"showPost",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments[1],r=this.state,o=r.currentPageIndex,a=r.currentHTMLViewPosts,i=r.show;i?this.setState({isLoading:!0}):this.setState({show:!0,isLoading:!0}),y.default.isUndefined(n)||y.default.isNull(n)||n===o?this.setState({currentPostIndex:t,content:a.eq(t),isLoading:!1}):this.loadPosts(n).then(function(r){var o="last"===t?r.length-1:t;e.setState({currentHTMLViewPosts:r,currentPostIndex:o,content:r.eq(o),isLoading:!1,currentPageIndex:n})})}},{key:"viewLastPost",value:function(){var e=this.props.pageNum,t=this.state,n=t.currentPageIndex,r=t.currentHTMLViewPosts;n!==e-1?this.showPost("last",e-1):this.showPost(r.length-1,n)}},{key:"viewFirstPost",value:function(){var e=this.state,t=e.currentPageIndex,n=e.currentHTMLViewPosts;0!==t||0===n.length?this.showPost(0,0):this.showPost(0,t)}},{key:"loadPosts",value:function(e){var t=this;return new Promise(function(n){t.getPageByIndex(e).then(function(e){null===e&&n([]);var t=(0,v.default)(e).find("table.voz-postbit");n(t)})})}},{key:"openNewTab",value:function(){window.open(this.url,"_blank")}},{key:"closeThreadPreview",value:function(){w.default.unbind("esc"),this.setState({show:!1}),window.vozLivingCurrentThreadPreview=null}},{key:"openThreadPreview",value:function(){var e=this,t=this.state.currentHTMLViewPosts;(0,v.default)(".btn-view.active").click(),w.default.bind("esc",function(){e.closeThreadPreview()}),0===t.length?this.viewFirstPost():this.setState({show:!0}),window.vozLivingCurrentThreadPreview=this}},{key:"toggleThreadPreview",value:function(){var e=this.state,t=e.show,n=e.isLoading;n||(t?this.closeThreadPreview():this.openThreadPreview())}},{key:"prevPost",value:function(){var e=this.state,t=e.currentPostIndex,n=e.currentPageIndex;0===t?0!==n&&this.showPost("last",n-1):t>0&&this.showPost(t-1,n)}},{key:"nextPost",value:function(){var e=this.state,t=e.currentPostIndex,n=e.currentPageIndex,r=e.currentHTMLViewPosts,o=this.props.pageNum;t===r.length-1?n<o-1&&this.showPost(0,n+1):t<r.length-1&&this.showPost(t+1,n)}},{key:"toggleSubscribeThread",value:function(){var e=this.state,t=e.currentPostIndex,n=e.currentPageIndex,r=e.content,o=this.props,a=o.followThreads,i=o.id,l=o.dispatch,u=o.element;a[i]?(0,O.unsubscribeThread)(i).then(function(){l(T.unsubscribeThread(i))}):!function(){var e=(0,v.default)('a[id^="thread_title"]',u).text(),o=r?(0,v.default)(r).attr("id").replace("post",""):"",a={threadId:i,postId:o,postNum:10*n+t+1,page:n+1,title:e};(0,O.subscribeThread)(i).then(function(){l(T.subscribeThread(i,a))})}()}},{key:"renderThreadContent",value:function(){var e=this.state,t=e.show,n=e.isLoading,r=e.content,o=e.currentPostIndex,a=e.currentPageIndex,i=this.props,l=i.followThreads,u=i.id,s=!!l[u];if(!t)return null;var c="Sử dụng phím mũi tên <- -> để chuyển post. Phím Esc để đóng khung preview.";return p.default.createElement("div",{className:"preview-wrapper"},p.default.createElement("div",{className:"left-preview pull-left",style:{width:"calc(100% - 45px)"}},p.default.createElement("div",{className:"preview-control"},c,p.default.createElement("div",{className:"btn pull-right btn-next-post tooltip-top",onClick:this.nextPost,"data-tooltip":"Xem post sau"},p.default.createElement("i",{className:"fa fa-arrow-right"})),p.default.createElement("div",{className:"btn pull-right btn-prev-post tooltip-top",onClick:this.prevPost,"data-tooltip":"Xem post trước"},p.default.createElement("i",{className:"fa fa-arrow-left"})),p.default.createElement("div",{className:"pull-right"},"Post hiện tại: ",10*a+o+1)),p.default.createElement("div",{className:"preview-content"},p.default.createElement(E.default,{html:r,isLoading:n}))),p.default.createElement("div",{className:"right-preview pull-right"},p.default.createElement("div",{className:"btn",onClick:this.openNewTab,"data-tooltip":"Mở tab mới"},p.default.createElement("i",{className:"fa fa-share"})),p.default.createElement("div",{className:"btn",onClick:this.viewFirstPost,"data-tooltip":"Xem post đầu tiên"},p.default.createElement("i",{className:"fa fa-fast-backward"})),p.default.createElement("div",{className:"btn",onClick:this.viewLastPost,"data-tooltip":"Xem post cuối cùng"},p.default.createElement("i",{className:"fa fa-fast-forward"})),p.default.createElement("div",{className:"btn",onClick:this.toggleSubscribeThread,"data-tooltip":"Theo dõi thớt"},s?p.default.createElement("i",{className:"fa fa-chain-broken"}):p.default.createElement("i",{className:"fa fa-check-square-o"}))))}},{key:"render",value:function(){var e=this,t=this.state.show,n=p.default.createElement("i",{className:"fa fa-angle-double-down"}),r="btn btn-view";return t&&(n=p.default.createElement("i",{className:"fa fa-angle-double-up"}),r+=" active"),p.default.createElement("div",{className:"thread-preview-inner"},p.default.createElement("div",{className:r,onClick:function(){return e.toggleThreadPreview()},"data-tooltip":"Thread preview"},n),this.renderThreadContent())}}]),t}(d.Component),s.propTypes={id:d.PropTypes.string,pageNum:d.PropTypes.number,element:d.PropTypes.any,followThreads:d.PropTypes.object,dispatch:d.PropTypes.func},u=c))||u,C=function(e){var t=e.vozLiving.followThreads;return{followThreads:t}};t.default=(0,P.connect)(C)(S)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=n(4),d=(l=i=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.userStyle!==this.props.userStyle}},{key:"componentWillUpdate",value:function(e){var t=e.userStyle;this.checkAddStyle(t)}},{key:"checkAddStyle",value:function(e){var t=this;try{var n=function(){if(""===e)return{v:void 0};var n=e.match(/\/styles\/(\d+)\//)[1],r="voz_living_userstyle_"+n,o=window.localStorage.getItem(r);null!==o&&t.addStyle(o),(0,f.GET)("https://userstyles.org/styles/"+n+".css",{credentials:"same-origin"}).then(function(e){null===o?(t.addStyle(e),window.localStorage.setItem(r,e)):e!==o&&(window.localStorage.setItem(r,e),console.log("style updated"))})}();if("object"===("undefined"==typeof n?"undefined":u(n)))return n.v}catch(e){console.error(e)}}},{key:"addStyle",value:function(e){try{var t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e.replace(/@-moz-document.*{/g,"@media all {"))),document.getElementsByTagName("head")[0].appendChild(t)}catch(e){console.error(e)}}},{key:"render",value:function(){return null}}]),t}(c.Component),i.propTypes={userStyle:c.PropTypes.string},l);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=n(1),d=r(f),p=(u=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){this.triggerWideScreen(e)}},{key:"triggerWideScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.isWideScreen;t&&(0,d.default)(".page").css({width:"100%",maxWidth:"5000px"})}},{key:"render",value:function(){return null}}]),t}(c.Component),l.propTypes={isWideScreen:c.PropTypes.bool},u);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){
var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=r(d),h=n(7),m=n(1),v=r(m),b=n(3),y=r(b),g=n(38),_=r(g),w=n(74),k=r(w),E=n(71),O=r(E),P=n(45),x=r(P),T=n(70),S=r(T),C=n(40),j=r(C),I=n(46),L=r(I),N=n(53),M=r(N),R=n(50),V=r(R),q=n(51),z=r(q),U=n(48),A=r(U),D=n(68),B=r(D),Q=n(73),G=r(Q),H=n(66),K=r(H),Z=n(39),F=r(Z),W=n(21),X=r(W),Y=n(62),$=r(Y),J=n(76),ee=r(J),te=n(9),ne=n(5),re=n(12),oe=n(17),ae=r(oe),ie=(u=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));switch(n.dispatch=e.dispatch,n.currentView=(0,re.getCurrentView)(),n.authInfo=(0,re.getAuthenticationInformation)(),n.currentView){case"thread":var r=(0,ae.default)((0,v.default)(document.body));trackEvent("view-thread-id",r.getThreadId()),trackEvent("view-thread-title",r.getThreadTitle()),trackEvent("view-thread-combine",r.getThreadId()+":|:"+r.getThreadTitle());break;case"thread-list":try{var i=window.location.href.match(/f=(\d+)/)[1];trackEvent("view-forum",i)}catch(e){console.error(e)}}return n}return i(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this,t=(0,ae.default)((0,v.default)(document.body));setTimeout(function(){document.querySelector(".voz-living-side-menu").classList.remove("trans-start")},1e3),Promise.all([(0,ne.getChromeLocalStore)(["settings","quotes","authInfo","quickLinks","followThreads","threadTracker"]),(0,ne.getChromeSyncStore)(["savedPosts"])]).then(function(n){var r=c(n,2),o=r[0],a=r[1],i=o.settings,l=o.authInfo,u=s({},ne.defaultStoreStructure.settings,i),f={};f.currentView=e.currentView,"thread"===f.currentView&&(f.threadId=t.getThreadId()),o.settings=u,e.props.dispatch((0,te.init)(s({},o,a,{misc:f}))),u.threadPreview===!0&&"thread-list"===e.currentView&&e.props.dispatch((0,te.getThreadList)()),!y.default.isEmpty(l)&&y.default.isEqual(l,e.authInfo)||(0,ne.setChromeLocalStore)({authInfo:e.authInfo})}),chrome.runtime.onMessage.addListener(function(t){t.quotes&&e.dispatch((0,te.updateQuotes)(t.quotes))}),window.vozLivingLoader.stop()}},{key:"renderBaseOnCurrentView",value:function(e){var t=y.default.isEmpty(this.props.settings)?{}:s({},ne.defaultStoreStructure.settings,this.props.settings),n=t.linkHelper,r=t.minimizeQuote,o=t.quickPostQuotation,a=t.threadPreview,i=t.savePostEnable,l=t.capturePostEnable,u=(t.newThreadUI,t.smartSelection),c=(t.stickerPanelExpand,t.enableRichEditor,this.props.pageStatusId);return"undefined"==typeof n&&(c=-1),"thread-list"===e?[p.default.createElement(O.default,{key:"voz-living-thread-list-control",dispatch:this.dispatch,currentView:this.currentView,isThreadPreview:a,autoGotoNewthread:this.props.settings.autoGotoNewthread})]:"thread"===e?[p.default.createElement(x.default,{linkHelper:n,pageStatusId:c,key:"voz-living-link-helper"}),p.default.createElement(S.default,{currentView:this.currentView,key:"voz-living-thread-control"}),p.default.createElement(L.default,{isMinimizeQuote:r,key:"voz-living-minimize-quote-control"}),p.default.createElement(M.default,{isQuickPostQuotation:o,key:"voz-living-quick-post-control"}),u&&p.default.createElement(B.default,{key:"smart-selection"}),p.default.createElement(z.default,{key:"voz-living-quick-ban-user"}),i?p.default.createElement(K.default,{dispatch:this.dispatch,pageStatusId:c,key:"saved-post-thread-binder"}):null,l?p.default.createElement(F.default,{key:"capture-post"}):null]:"post"===e?[p.default.createElement(x.default,{linkHelper:n,pageStatusId:c,key:"voz-living-link-helper"}),p.default.createElement(z.default,{key:"voz-living-quick-ban-user"}),i?p.default.createElement(K.default,{dispatch:this.dispatch,pageStatusId:c,key:"saved-post-thread-binder"}):null,l?p.default.createElement(F.default,{key:"capture-post"}):null,p.default.createElement("div",{style:{display:"none"}},p.default.createElement(X.default,null))]:null}},{key:"render",value:function(){var e=this.props.settings,t=e.wideScreenSpecial,n=e.adsRemove,r=e.emotionHelper,o=e.autoHideSidebar,a=e.userStyle,i=e.stickerPanelExpand,l=e.enableRichEditor,u=this.currentView;return p.default.createElement("div",{id:"voz-living"},p.default.createElement(_.default,{isRemoveAds:n}),p.default.createElement(k.default,{isWideScreen:t}),p.default.createElement(V.default,{dispatch:this.dispatch}),"edit-reply"!==this.currentView?!y.default.isUndefined(l)&&l===!1&&p.default.createElement(j.default,{currentView:this.currentView,emotionHelper:r,stickerPanelExpand:i}):!y.default.isUndefined(r)&&r===!0&&p.default.createElement(j.default,{currentView:this.currentView,emotionHelper:r,stickerPanelExpand:i}),p.default.createElement(ee.default,{dispatch:this.dispatch,settings:this.props.settings,autoHide:o}),this.renderBaseOnCurrentView(u),p.default.createElement(A.default,null),p.default.createElement(G.default,{userStyle:a}),!y.default.isUndefined(l)&&("thread"===u||"new-reply"===u||"new-thread"===u||"pm"===u||"insert-pm"===u)&&(l?p.default.createElement($.default,{stickerPanelExpand:i,currentView:u}):p.default.createElement($.default.Recommendation,null)))}}]),t}(d.Component),l.propTypes={settings:d.PropTypes.object,dispatch:d.PropTypes.func},l.defaultProps={settings:{}},u),le=function(e){var t=e.vozLiving,n=t.settings,r=t.pageStatusId;return{settings:n,pageStatusId:r}};t.default=(0,h.connect)(le)(ie)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(7),p=n(67),h=r(p),m=n(55),v=r(m),b=n(54),y=r(b),g=n(52),_=r(g),w=n(42),k=r(w),E=n(69),O=r(E),P=n(65),x=r(P),T=n(44),S=r(T),C=n(41),j=r(C),I=n(43),L=r(I),N=n(12),M=(u=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dispatch=e.dispatch,n}return i(t,e),s(t,[{key:"componentWillUpdate",value:function(e){var t=[document.querySelectorAll("body>div:not(#voz-living-app):not(#voz-living-loader-wrapper)"),document.querySelectorAll("body else>div:not(#voz-living-app)"),document.querySelectorAll("body>form")];t.forEach(function(t){t&&t.length>0&&t.forEach(function(t){t&&e.autoHide===!0&&(t.style.marginLeft="0px"),t&&e.autoHide===!1&&(t.style.marginLeft="50px")})})}},{key:"render",value:function(){var e=this.props,t=e.settings,n=e.autoHide;return f.default.createElement("div",{className:(0,N.toClassName)({"voz-living-side-menu":!0,"trans-start":!0,"auto-hide":n})},f.default.createElement(h.default,{settings:t,dispatch:this.dispatch}),f.default.createElement(y.default,{dispatch:this.dispatch}),f.default.createElement(k.default,{dispatch:this.dispatch}),f.default.createElement(v.default,{dispatch:this.dispatch,isReloadButton:t.reloadButton}),f.default.createElement(L.default,null),t.savePostEnable===!0?f.default.createElement(x.default,{dispatch:this.dispatch}):null,t.LinhXinhBtn===!0?f.default.createElement(S.default,null):null,f.default.createElement(_.default,{dispatch:this.dispatch}),f.default.createElement("div",{className:"voz-living-size-menu__bottom"},f.default.createElement(j.default,null),f.default.createElement(O.default,{dispatch:this.dispatch})))}}]),t}(c.Component),l.propTypes={settings:c.PropTypes.object,dispatch:c.PropTypes.func,autoHide:c.PropTypes.bool},l.defaultProps={settings:{}},u),R=function(e){var t=e.vozLiving.settings;return{settings:t}};t.default=(0,d.connect)(R)(M)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=n(78),i=r(a);t.default=(0,o.combineReducers)({vozLiving:i.default})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1],n=h[t.type];return n?n(e,t):e}Object.defineProperty(t,"__esModule",{value:!0});var i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var u=n(3),s=r(u),c=n(5),f=n(29),d={settings:{},threadList:[],quoteList:[],misc:{},pageStatusId:0},p=200,h=(i={},o(i,f.VOZ_LIVING_INIT,function(e,t){var n=s.default.cloneDeep(t);return delete n.type,n.quoteList=t.quotes,delete n.quotes,l({},e,n)}),o(i,f.VOZ_LIVING_GET_THREAD_LIST,function(e,t){var n=t.threadList;return l({},e,{threadList:n})}),o(i,f.VOZ_LIVING_UDATE_QUOTE_LIST,function(e,t){var n=t.quotes;return l({},e,{quoteList:n})}),o(i,f.VOZ_LIVING_CHANGE_OPTION,function(e,t){var n=e.settings,r=t.option,a=t.value,i=a||!n[r],u=l({},n,o({},r,i));return(0,c.setChromeLocalStore)({settings:u}),l({},e,{settings:u})}),o(i,f.VOZ_LIVING_SEEN_ALL_QUOTE,function(e){var t=e.quoteList,n=s.default.cloneDeep(t);return n.forEach(function(e){var t=e;t.hasSeen=!0}),(0,c.setChromeLocalStore)({quotes:n}),l({},e,{quoteList:n})}),o(i,f.VOZ_LIVING_ADD_QUICK_LINK,function(e){var t=e.quickLinks,n=s.default.cloneDeep(t);return n.push({id:(new Date).getTime(),label:"",link:""}),l({},e,{quickLinks:n})}),o(i,f.VOZ_LIVING_UPDATE_QUICK_LINK,function(e,t){var n=t.id,r=t.key,o=t.value,a=e.quickLinks,i=s.default.cloneDeep(a),u=s.default.find(i,{id:n});return u&&(u[r]=o),l({},e,{quickLinks:i})}),o(i,f.VOZ_LIVING_SAVE_QUICK_LINK,function(e){var t=e.quickLinks;return(0,c.setChromeLocalStore)({quickLinks:t}),l({},e)}),o(i,f.VOZ_LIVING_REMOVE_QUICK_LINK,function(e,t){var n=t.id,r=e.quickLinks,o=s.default.cloneDeep(r);return s.default.remove(o,{id:n}),(0,c.setChromeLocalStore)({quickLinks:o}),l({},e,{quickLinks:o})}),o(i,f.VOZ_LIVING_THREAD_SUBSCRIBE,function(e,t){var n=t.threadId,r=t.post,o=s.default.cloneDeep(e.followThreads);return o[n]=r,(0,c.setChromeLocalStore)({followThreads:o}),l({},e,{followThreads:o})}),o(i,f.VOZ_LIVING_THREAD_UNSUBSCRIBE,function(e,t){var n=t.threadId,r=s.default.cloneDeep(e.followThreads);return delete r[n],(0,c.setChromeLocalStore)({followThreads:r}),l({},e,{followThreads:r})}),o(i,f.VOZ_LIVING_SAVE_POST,function(e,t){var n=t.postId,r=e.savedPosts;if(Object.keys(r).length>=p){alert("Đã quá giới hạn ("+p+" bài) số lượng bài có thể lưu, xin hãy xoá bớt ");var a=new Error("Saved post reach limitation");throw a.limit=p,a}var i=l({},r,o({},n,(new Date).getTime()));return(0,c.setChromeSyncStore)({savedPosts:i}),l({},e,{savedPosts:i})}),o(i,f.VOZ_LIVING_UNSAVE_POST,function(e,t){var n=t.postId,r=e.savedPosts,o=l({},r);delete o[n];var a="voz_living_post_"+n;return window.localStorage.removeItem(a),(0,c.setChromeSyncStore)({savedPosts:o}),l({},e,{savedPosts:o})}),o(i,f.VOZ_LIVING_UPDATE_PAGE_STATUS_ID,function(e){return l({},e,{pageStatusId:e.pageStatusId+1})}),o(i,f.VOZ_LIVING_UPDATE_POST_TRACKER,function(e,t){var n=t.post,r=n.threadId,a=n.postId,i=n.postNum,u=n.page,f=e.threadTracker[r],d=(new Date).getTime(),p=s.default.isUndefined(f)||a>f.postId?{postId:a,postNum:i,page:u}:l({},f),h=l({},e.threadTracker,o({},r,l({},p,{lastView:d})));return(0,c.setChromeLocalStore)({threadTracker:h}),l({},e,{currentPost:t.post,threadTracker:h})}),i)},,,,,,,,,function(e,t,n){t=e.exports=n(26)(),t.push([e.i,".vozliving-editor {\n  background: #fff;\n  padding: 5px;\n}\n.editor-wrapper .editor {\n  box-shadow: 0 0 2px #CCC;\n  min-height: 30px;\n  overflow: auto;\n  padding: 1em;\n  margin-top: 20px;\n  resize: vertical;\n  outline: none;\n  background: #F5F5FF;\n  border: 1px solid #999;\n}\n.editor-wrapper .editor quote {\n  background: #e1e4f2;\n  border: 1px inset;\n  padding: 6px;\n  display: block;\n  position: relative;\n  margin-top: 20px;\n  min-height: 15px;\n}\n.editor-wrapper .editor quote::before {\n  content: \"Quote:\";\n  display: block;\n  position: absolute;\n  top: -17px;\n  left: 1px;\n  font: 11px verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;\n}\n.editor-wrapper .editor quote[data-by] {\n  padding-top: 15px;\n}\n.editor-wrapper .editor quote[data-by]::after {\n  content: \"Originally Posted by \" attr(data-by);\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 6px;\n}\n.editor-wrapper a {\n  cursor: pointer;\n}\n.editor-wrapper .toolbar {\n  text-align: center;\n  font-family: 'Dosis';\n}\n.editor-wrapper .toolbar .command-separator {\n  width: 1px;\n  margin: 0 10px;\n  height: 30px;\n  display: inline-block;\n}\n.editor-wrapper .toolbar a,\n.editor-wrapper .fore-wrapper,\n.editor-wrapper .back-wrapper {\n  border: 1px solid #AAA;\n  background: #FFF;\n  font-family: Arial, Helvetica, sans-serif;\n  line-height: 20px;\n  font-size: 15px;\n  border-radius: 1px;\n  color: black;\n  padding: 5px;\n  width: 1.5em;\n  margin: -2px;\n  margin-top: 10px;\n  display: inline-block;\n  text-decoration: none;\n  box-shadow: 0px 1px 0px #CCC;\n}\n.editor-wrapper .toolbar a > i.fa,\n.editor-wrapper .fore-wrapper > i.fa,\n.editor-wrapper .back-wrapper > i.fa {\n  font-size: 18px;\n  line-height: 22px;\n  margin-top: -2px;\n}\n.editor-wrapper .toolbar a:hover,\n.editor-wrapper .fore-wrapper:hover,\n.editor-wrapper .back-wrapper:hover {\n  background: #f2f2f2;\n  border-color: #8c8c8c;\n}\n.editor-wrapper a[data-command='redo'],\n.editor-wrapper a[data-command='strikeThrough'],\n.editor-wrapper a[data-command='justifyFull'],\n.editor-wrapper a[data-command='insertOrderedList'],\n.editor-wrapper a[data-command='outdent'],\n.editor-wrapper a[data-command='p'],\n.editor-wrapper a[data-command='superscript'] {\n  margin-right: 5px;\n  border-radius: 0 3px 3px 0;\n}\n.editor-wrapper a[data-command='undo'],\n.editor-wrapper .fore-wrapper,\n.editor-wrapper a[data-command='justifyLeft'],\n.editor-wrapper a[data-command='insertUnorderedList'],\n.editor-wrapper a[data-command='indent'],\n.editor-wrapper a[data-command='h1'],\n.editor-wrapper a[data-command='subscript'] {\n  border-radius: 3px 0 0 3px;\n}\n.editor-wrapper a.palette-item {\n  height: 4px;\n  border-radius: 2px;\n  margin: 2px;\n  width: 4px;\n  border: 1px solid #CCC;\n}\n.editor-wrapper a.palette-item:hover {\n  border: 1px solid #CCC;\n  box-shadow: 0 0 3px #333;\n}\n.editor-wrapper .fore-palette,\n.editor-wrapper .back-palette {\n  display: none;\n}\n.editor-wrapper .fore-wrapper,\n.editor-wrapper .back-wrapper {\n  display: inline-block;\n  cursor: pointer;\n}\n.editor-wrapper .fore-wrapper:hover .fore-palette,\n.editor-wrapper .back-wrapper:hover .back-palette {\n  display: block;\n  float: left;\n  position: absolute;\n  padding: 3px;\n  width: 160px;\n  background: #FFF;\n  border: 1px solid #DDD;\n  box-shadow: 0 0 5px #CCC;\n  height: 100px;\n}\n.editor-wrapper .fore-palette a,\n.editor-wrapper .back-palette a {\n  background: #FFF;\n  margin-bottom: 2px;\n}\n.editor-wrapper .RE-btn-control button {\n  border-radius: 0;\n  padding: 5px;\n  margin: 2px;\n  font-size: 16px;\n  font-weight: bold;\n}\n.editor-wrapper .smilebox .emotion-box {\n  overflow: auto;\n  white-space: normal;\n  max-height: 42px;\n  min-height: 42px;\n}\n.editor-wrapper .sticker-box {\n  height: 75px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.editor-wrapper .sticker-box > div {\n  margin-top: 0 !important;\n  white-space: normal !important;\n}\n.rich-quote {\n  cursor: pointer;\n  padding: 4px;\n  display: inline-block;\n  background: #23497c;\n  font-size: 17px;\n  margin: 0 2px;\n  position: relative;\n}\n.rich-quote i {\n  color: white;\n}\n.panelsurround > .panel > div {\n  width: 100% !important;\n  box-shadow: border-box;\n}\n.hide_adv_editor {\n  display: none;\n}\n",""])},function(e,t,n){t=e.exports=n(26)(),t.push([e.i,".emotion-box {\n  overflow-x: scroll;\n  overflow-y: hidden;\n  padding: 5px 0;\n  min-width: 165px;\n  white-space: nowrap;\n  border: gray 1px solid;\n  border-top: 0;\n  margin: 0px;\n  transition: all 0.3s;\n  max-height: 60px;\n  min-height: 40px;\n}\n.emotion-box div.emo {\n  width: 40px;\n  height: 40px;\n  display: inline-block;\n  padding: 2px;\n  position: relative;\n  border-radius: 2px;\n  transition: all 0.5s;\n  margin-right: 5px;\n}\n.emotion-box div.emo img {\n  max-height: 100%;\n  max-width: 100%;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.emotion-box div.emo:hover {\n  background: #fff;\n}\n.emotion-box div.emo:hover img {\n  transform: scale(1.1);\n}\n.smilebox.full .emotion-box,\n.editor-wrapper .smilebox.full .emotion-box {\n  overflow: auto;\n  white-space: normal;\n  max-height: 220px;\n  min-height: 200px;\n}\n.emo-header {\n  margin-top: 5px;\n  background-color: #d6d4d4;\n  border: gray 1px solid;\n  font-size: 15px;\n  padding: 2px 3px;\n}\n.emo-expand {\n  float: right;\n  color: #353535;\n  cursor: pointer;\n  padding: 3px;\n}\n#vB_Editor_001_textarea[name='message'] {\n  width: 540px!important;\n}\n",""])},function(e,t,n){t=e.exports=n(26)(),t.push([e.i,".sticker-box-wrapper {\n  position: relative;\n}\n.sticker-box-wrapper .sticker-information {\n  position: absolute;\n}\n.sticker-box-wrapper .sticker-information .sticker-preview {\n  position: absolute;\n  left: 3px;\n  bottom: 2px;\n}\n.sticker-box-wrapper .sticker-information .sticker-preview img {\n  opacity: 0.8;\n}\n.sticker-box-wrapper .sticker-information .sticker-preview .sticker-preview-label {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  color: black;\n  white-space: nowrap;\n  text-shadow: 0px 0px 2px white;\n}\n.sticker-box-wrapper .sticker-box {\n  height: 82px;\n  background: white;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  position: relative;\n  transition: all 0.3s;\n}\n.sticker-box-wrapper .sticker-box > div {\n  margin-top: 2px;\n  white-space: nowrap;\n}\n.sticker-box-wrapper .sticker-box > div .sticker {\n  height: 60px;\n  margin: 2px;\n  transition: all 0.2s;\n  border: 1px solid white;\n  cursor: pointer;\n}\n.sticker-box-wrapper .sticker-box > div .sticker:hover {\n  margin: 0;\n  height: 64px;\n  border: 1px solid #666;\n}\n.sticker-box-wrapper .sticker-box span a {\n  text-decoration: underline;\n  font-weight: bold;\n}\n.sticker-box-wrapper .sticker-box.empty-sticker {\n  height: 40px!important;\n}\n.sticker-box-wrapper .sticker-box.empty-sticker > span {\n  white-space: nowrap;\n}\n.sticker-box-wrapper .sticker-box.full {\n  height: 200px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.sticker-box-wrapper .sticker-box.full > div {\n  margin-top: 0 !important;\n  white-space: normal !important;\n}\n.sticker-box-wrapper .sticker-set-list {\n  display: flex;\n  flex-flow: row wrap;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n.sticker-box-wrapper .sticker-set-list li[class]:not(data-tooltip) {\n  flex-grow: 1;\n  text-align: center;\n  max-width: 180px;\n}\n.sticker-box-wrapper .sticker-set-list li {\n  position: relative;\n  display: inline-block;\n  line-height: 16px;\n  font-size: 14px;\n  margin: 0;\n  padding: 2px 5px;\n  border: 1px solid #999;\n  background: #fff;\n  transition: all 0.2s;\n  cursor: pointer;\n}\n.sticker-box-wrapper .sticker-set-list li.sticker-set-selected {\n  background: #ddd;\n  text-shadow: 0 0 5px rgba(255, 255, 255, 0.9);\n}\n.sticker-box-wrapper .sticker-set-list li button {\n  float: right;\n  position: relative;\n  border-radius: 0;\n  padding: 0 5px;\n  margin: 0;\n  line-height: 18px;\n  font-size: 15px;\n}\n.full .sticker-box {\n  width: 544px;\n}\n",""])},function(e,t,n){var r=n(87);"string"==typeof r&&(r=[[e.i,r,""]]);n(27)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(88);"string"==typeof r&&(r=[[e.i,r,""]]);n(27)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(89);"string"==typeof r&&(r=[[e.i,r,""]]);n(27)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){e.exports=n(6)(223)},function(e,t,n){e.exports=n(6)(229)},function(e,t,n){e.exports=n(6)(230)},function(e,t,n){e.exports=n(6)(231)},function(e,t,n){e.exports=n(6)(235)},function(e,t,n){"use strict";n(36)}]);